{"version":3,"sources":["../../../../src/react/hooks/useQuery.ts","components/homePage/Airing.js","components/homePage/AiringList.js","components/homePage/HomeRec.js","components/homePage/AirSlide.js","components/homePage/AiringSlider.js","pages/Home.js","components/detailPage/CircleRate.js","utils/helpers.js","components/detailPage/Recom.js","components/Anime.js","components/AnimeList.js","components/detailPage/RecomList.js","components/homePage/Top.js","components/homePage/TopList.js"],"names":["useQuery","query","options","Airing","airing","history","useHistory","client","useApolloClient","motion","a","onClick","e","preventDefault","writeQuery","gql","data","loadingbar","__typename","isLoading","setTimeout","push","id","href","className","animate","opacity","transition","duration","initial","loading","height","alt","src","bannerImage","title","english","romaji","nextAiringEpisode","episode","icon","faClock","secondsToDhms","timeUntilAiring","AiringList","allAiring","keyParam","counterAnime","trimedallAiring","filter","anime","includes","media","undefined","div","_","index","map","HomeRecom","allRecom","rec","Recom","widthParam","recom","AirSlide","onGrabbingSlider","animeCardClickHandler","onMouseDown","onTouchStart","width","coverImage","large","style","backgroundColor","color","format","toLowerCase","source","genres","genre","content","description","AiringSlider","autoSlidePlay","useState","slideNum","setSlideNum","isAutoPlayOn","setIsAutoPlayOn","useCallback","clearTimeout","useEffect","faChevronCircleRight","Home","gridRef","hQuery","homeQuery","error","Loading","console","log","message","trending","airingSchedules","allTime","top100","Fragment","ref","homeRecom","recommendations","RecomList","initialQuantity","HomeRec","AnimeList","allAnimeData","colsInRow","TopList","CircleRate","grad","bg","rate","symbol","size","backgroundImage","borderRadius","right","top","transform","hexToRgbA","hex","c","test","substring","split","length","join","seconds","dhms","Number","d","Math","floor","h","m","s","dDisplay","hDisplay","mDisplay","showMoreLessBtn","refElement","extraClassName","current","firstElementChild","offsetHeight","overflow","position","showMoreBtn","document","createElement","textContent","lastElementChild","after","addEventListener","display","unKnownPng","recMedia","node","mediaRecommendation","rating","draggable","status","faThumbsDown","faThumbsUp","Anime","averageScore","stream","showMore","setShowMore","gridColsTemp","trimedAllAnimeData","anim","animeData","target","animeID","isSmallDevice","documentElement","clientWidth","magicNum1","magicNum2","rightLeftScroll","useRef","wastefulCover","recommend","allRecomData","recomListQuery","variables","Media","edges","startx","scrollLeft","isDown","onTouchEnd","recLeft","scrollWidth","round","scrollTo","left","behavior","pageX","offsetLeft","onMouseLeave","onMouseUp","onMouseMove","walk","slice","recWidth","newRecommend","Top","rank","season","seasonYear","tags","tag","name","popularity","toFixed","faHeart"],"mappings":"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","file":"static/js/4.eb00bdcd.chunk.js","sourcesContent":["import { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\n\nimport { QueryHookOptions, QueryResult } from '../types/types';\nimport { useBaseQuery } from './utils/useBaseQuery';\nimport { OperationVariables } from '../../core';\n\nexport function useQuery<TData = any, TVariables = OperationVariables>(\n  query: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: QueryHookOptions<TData, TVariables>\n) {\n  return useBaseQuery<TData, TVariables>(query, options, false) as QueryResult<\n    TData,\n    TVariables\n  >;\n}\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { secondsToDhms } from \"../../utils/helpers\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Airing = ({ airing }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${airing.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <motion.a\r\n      onClick={animeCardClickHandler}\r\n      href={`/anime/${airing.id}`}\r\n      className=\"airing-container group\"\r\n      animate={{ opacity: 1, transition: { duration: 2 } }}\r\n      initial={{ opacity: 0 }}\r\n    >\r\n      <div>\r\n        <img\r\n          loading=\"lazy\"\r\n          height={96}\r\n          alt=\"\"\r\n          className=\"transform group-hover:scale-110\"\r\n          src={airing.bannerImage}\r\n        />\r\n        <div className=\"group-hover:bg-opacity-60\">\r\n          <h3>\r\n            {airing.title.english ? airing.title.english : airing.title.romaji}\r\n          </h3>\r\n          <p>\r\n            <span>Episode {airing.nextAiringEpisode.episode} </span>\r\n            <span className=\"\">\r\n              <FontAwesomeIcon icon={faClock} />{\" \"}\r\n              {secondsToDhms(airing.nextAiringEpisode.timeUntilAiring, \"dhm\")}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Airing;\r\n","import React from \"react\";\r\nimport Airing from \"./Airing\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AiringList = ({ allAiring, keyParam }) => {\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedallAiring = allAiring.filter((anime) => {\r\n    if (!counterAnime.includes(anime.media.id)) {\r\n      counterAnime.push(anime.media.id);\r\n      if ((anime.media !== undefined) & (anime.media.bannerImage !== null)) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"airing-list-container\">\r\n      <div>\r\n        <div>\r\n          {trimedallAiring\r\n            .filter((_, index) => index <= 7)\r\n            .map((airing) => {\r\n              return (\r\n                <Airing\r\n                  key={`${keyParam}-${airing.media.id}`}\r\n                  airing={airing.media}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\nexport default AiringList;\r\n","import Recom from \"../detailPage/Recom\";\r\n\r\nconst HomeRecom = ({ allRecom, keyParam }) => {\r\n  return (\r\n    <div className=\"home-rec\">\r\n      {allRecom\r\n        .filter((_, index) => index <= 1)\r\n        .map((rec) => {\r\n          return (\r\n            <Recom\r\n              key={keyParam + rec.media.id}\r\n              widthParam={true}\r\n              recom={rec}\r\n            />\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeRecom;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { secondsToDhms } from \"../../utils/helpers\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Markup } from \"interweave\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst AirSlide = ({ airing, onGrabbingSlider }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${airing.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"air-slide-container anni group\"\r\n      onMouseDown={() => onGrabbingSlider()}\r\n      onTouchStart={() => onGrabbingSlider()}\r\n    >\r\n      <img loading=\"lazy\" width={\"100%\"}\r\n        alt=\"\"\r\n        className=\"transform group-hover:scale-110 \"\r\n        src={airing.bannerImage}\r\n      />\r\n      <div className=\"group-hover:bg-opacity-80\">\r\n        <div className=\"air-slide-cover-image transform group-hover:scale-95 \">\r\n          <a onClick={animeCardClickHandler} href={`/anime/${airing.id}`}>\r\n            <img loading=\"lazy\" width={160} height={224} alt=\"\" src={airing.coverImage.large} style={{backgroundColor:airing.coverImage.color}} />\r\n          </a>\r\n        </div>\r\n        <div className=\"air-slide-info\">\r\n          <a href={`/anime/${airing.id}`} onClick={animeCardClickHandler}>\r\n            <h3 onClick={animeCardClickHandler}>\r\n              {airing.title.english\r\n                ? airing.title.english\r\n                : airing.title.romaji}\r\n            </h3>\r\n          </a>\r\n          {airing.format && (\r\n            <p>\r\n              <b>Format:</b>\r\n              <br /> {airing.format.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {airing.source && (\r\n            <p>\r\n              <b>Source:</b>\r\n              <br /> {airing.source.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {airing.genres && (\r\n            <p>\r\n              <b>Genres:</b>\r\n              <br />{\" \"}\r\n              {airing.genres\r\n                .filter((_, index) => index <= 2)\r\n                .map((genre) => {\r\n                  return (\r\n                    <span key={genre} className=\"air-slide-genres\">\r\n                      {genre}\r\n                    </span>\r\n                  );\r\n                })}\r\n            </p>\r\n          )}\r\n          <p className=\"text-indigo-200\">\r\n            <span>\r\n              <b>Next airing:</b> <br /> Episode{\" \"}\r\n              {airing.nextAiringEpisode.episode}{\" \"}\r\n            </span>\r\n            <span className=\"\">\r\n              <FontAwesomeIcon icon={faClock} />{\" \"}\r\n              {secondsToDhms(airing.nextAiringEpisode.timeUntilAiring, \"dhm\")}\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div className=\"air-slide-desc\">\r\n          <Markup content={airing.description} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AirSlide;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport AirSlide from \"./AirSlide\";\r\nimport { faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst AiringSlider = ({ allAiring, keyParam }) => {\r\n  let autoSlidePlay;\r\n  const [slideNum, setSlideNum] = useState(0);\r\n  const [isAutoPlayOn, setIsAutoPlayOn] = useState(true);\r\n\r\n  const onGrabbingSlider = useCallback(() => {\r\n    setIsAutoPlayOn(false);\r\n    clearTimeout(autoSlidePlay);\r\n    // eslint-disable-next-line\r\n  }, [setIsAutoPlayOn]);\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedallAiring = allAiring.filter((anime) => {\r\n    if (!counterAnime.includes(anime.media.id)) {\r\n      counterAnime.push(anime.media.id);\r\n      if ((anime.media !== undefined) & (anime.media.bannerImage !== null)) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  const rightHandler = () => {\r\n    setIsAutoPlayOn(false);\r\n\r\n    setTimeout(() => {\r\n      if (slideNum === 7) {\r\n        setSlideNum(0);\r\n      } else {\r\n        setSlideNum(slideNum + 1);\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const leftHandler = () => {\r\n    setIsAutoPlayOn(false);\r\n    setTimeout(() => {\r\n      if (slideNum === 0) {\r\n        setSlideNum(7);\r\n      } else {\r\n        setSlideNum(slideNum - 1);\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAutoPlayOn) {\r\n      // eslint-disable-next-line\r\n      autoSlidePlay = setTimeout(() => {\r\n        if (slideNum === 7) {\r\n          setSlideNum(0);\r\n        } else {\r\n          setSlideNum(slideNum + 1);\r\n        }\r\n      }, 4000);\r\n      return () => {\r\n        clearTimeout(autoSlidePlay);\r\n      };\r\n    }\r\n  }, [slideNum, isAutoPlayOn]);\r\n  return (\r\n    <div className=\"airing-slider-container\">\r\n      {trimedallAiring\r\n        .filter((_, index) => index === slideNum)\r\n        .map((airing) => {\r\n          return (\r\n            <AirSlide\r\n              onGrabbingSlider={onGrabbingSlider}\r\n              key={`${keyParam}-${airing.media.id}`}\r\n              airing={airing.media}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <button onClick={leftHandler} className=\"left-0\">\r\n        <FontAwesomeIcon\r\n          className=\"text-4xl transform rotate-180 text-gray-500\"\r\n          icon={faChevronCircleRight}\r\n        />\r\n      </button>\r\n      <button onClick={rightHandler} className=\"right-0\">\r\n        <FontAwesomeIcon\r\n          className=\"text-4xl text-gray-500\"\r\n          icon={faChevronCircleRight}\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default AiringSlider;\r\n","import React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { homeQuery } from \"../utils/queries\";\r\nimport AnimeList from \"../components/AnimeList\";\r\nimport AiringList from \"../components/homePage/AiringList\";\r\nimport HomeRec from \"../components/homePage/HomeRec\";\r\nimport TopList from \"../components/homePage/TopList\";\r\nimport RecomList from \"../components/detailPage/RecomList\";\r\nimport AiringSlider from \"../components/homePage/AiringSlider\";\r\nimport Loading from \"./Loading\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Home = ({ gridRef }) => {\r\n  const client = useApolloClient();\r\n  client.writeQuery({\r\n    query: gql`\r\n      query WriteIsLoading {\r\n        loadingbar {\r\n          isLoading\r\n        }\r\n      }\r\n    `,\r\n    data: {\r\n      // Contains the data to write\r\n      loadingbar: {\r\n        __typename: \"LoadingBar\",\r\n        isLoading: 80,\r\n      },\r\n    },\r\n  });\r\n\r\n  const hQuery = homeQuery;\r\n  const { loading, error, data } = useQuery(hQuery);\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    console.log(error.message);\r\n    return `Error! ${error}`;\r\n  }\r\n  const trending = data.trending.media;\r\n  const airing = data.airing.airingSchedules;\r\n  const allTime = data.allTime.media;\r\n  const top100 = data.top100.media;\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        ref={gridRef}\r\n        className=\" home-grid-container home-page-container\"\r\n      >\r\n        <div className=\"h-header\">\r\n          {airing[0] && (\r\n            <div>\r\n              <AiringSlider allAiring={airing} keyParam={\"airingSlider\"} />\r\n            </div>\r\n          )}\r\n\r\n          {data.homeRecom.recommendations[0] && (\r\n            <div>\r\n              <RecomList\r\n                allRecom={data.homeRecom.recommendations}\r\n                initialQuantity={7}\r\n                keyParam={\"recSlider\"}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"h-sidebar \">\r\n          {data.homeRecom.recommendations[0] && (\r\n            <div>\r\n              <h3>Top Recommendations</h3>\r\n              <HomeRec\r\n                allRecom={data.homeRecom.recommendations}\r\n                keyParam={\"topRec\"}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {airing[0] && (\r\n            <div>\r\n              <h3>Airing Schedules</h3>\r\n              <AiringList allAiring={airing} keyParam={\"airing\"} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"h-trending\">\r\n          <h3>Trending</h3>\r\n          <AnimeList\r\n            allAnimeData={trending}\r\n            colsInRow={4}\r\n            initialQuantity={8}\r\n            keyParam={\"homeTrending\"}\r\n          />\r\n        </div>\r\n        <div className=\"h-alltime\">\r\n          <h3>Popular All Time</h3>\r\n          <AnimeList\r\n            allAnimeData={allTime}\r\n            colsInRow={4}\r\n            initialQuantity={8}\r\n            keyParam={\"homepopAllTime\"}\r\n          />\r\n        </div>\r\n        <div className=\"h-top100\">\r\n          <h3>Top 100</h3>\r\n          <TopList\r\n            allAnimeData={top100}\r\n            initialQuantity={8}\r\n            keyParam={\"top100\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst CircleRate = ({ rate, symbol, size }) => {\r\n  let grad, bg;\r\n  if (rate === null) {\r\n    rate = 0;\r\n  }\r\n  if (rate <= 25) {\r\n    bg = \"bg-red-500\";\r\n    grad = `linear-gradient(${\r\n      (rate / 100) * 360 + 90\r\n    }deg, transparent 50%, rgb(212, 212, 212) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate < 50) {\r\n    bg = \"bg-yellow-500\";\r\n    grad = `linear-gradient(${\r\n      (rate / 100) * 360 + 90\r\n    }deg, transparent 50%, rgb(212, 212, 212) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate === 50) {\r\n    bg = \"bg-yellow-300\";\r\n    grad = `linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate >= 100) {\r\n    rate = 100;\r\n    bg = \"bg-green-600\";\r\n    grad = \"none\";\r\n  } else if (rate <= 75) {\r\n    bg = \"bg-green-300\";\r\n    grad = `linear-gradient(${\r\n      ((rate - 50) / 100) * 360 + 90\r\n    }deg, transparent 50%, rgba(110,231,183,1) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else {\r\n    bg = \"bg-green-500\";\r\n    grad = `linear-gradient(${\r\n      ((rate - 50) / 100) * 360 + 90\r\n    }deg, transparent 50%, rgba(16,185,129,1) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: grad,\r\n        width: `${size}rem`,\r\n        height: `${size}rem`,\r\n        borderRadius: \"50%\",\r\n      }}\r\n      className={`${bg} circle-rate-container group group-hover:animate-reversecycler`}\r\n    >\r\n      <div\r\n        className=\"group-hover:animate-cycler\"\r\n        style={{\r\n          width: `${size - 1}rem`,\r\n          height: `${size - 1}rem`,\r\n          borderRadius: \"50%\",\r\n        }}\r\n      >\r\n        {symbol ? (\r\n          <div className=\"rate-symbol\">\r\n            <FontAwesomeIcon\r\n              icon={symbol}\r\n              className={`${\r\n                size === 5 ? \"text-6xl\" : size === 4 ? \"text-5xl \" : \"\"\r\n              } text-red-500`}\r\n            />\r\n            <div\r\n              className={`${\r\n                size === 5 ? \"text-lg\" : size === 4 ? \"text-sm\" : \"\"\r\n              } text-white absolute`}\r\n              style={{\r\n                right: \"50%\",\r\n                top: \"50%\",\r\n                transform: \"translate(50%, -50%)\",\r\n              }}\r\n            >\r\n              {rate}%\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <span className=\"score-num\">\r\n            <span>score</span>\r\n            <span\r\n              className={`${\r\n                size === 5 ? \"text-2xl\" : size === 4 ? \"text-base\" : \"\"\r\n              }`}\r\n            >\r\n              {rate}%\r\n            </span>\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircleRate;\r\n","// convert hex to rgba\r\nexport const hexToRgbA = (hex, opacity) => {\r\n  let c;\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split(\"\");\r\n    if (c.length === 3) {\r\n      c = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n    }\r\n    c = \"0x\" + c.join(\"\");\r\n    return (\r\n      \"rgba(\" +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(\",\") +\r\n      `,${opacity})`\r\n    );\r\n  }\r\n  return \"rgba(0,0,0,0.2)\";\r\n};\r\n\r\nexport const secondsToDhms = (seconds, dhms) => {\r\n  seconds = Number(seconds);\r\n  let d = Math.floor(seconds / (3600 * 24));\r\n  let h = Math.floor((seconds % (3600 * 24)) / 3600);\r\n  let m = Math.floor((seconds % 3600) / 60);\r\n  let s = Math.floor(seconds % 60);\r\n  let dDisplay = d > 0 ? d + \"d \" : \"\";\r\n  let hDisplay = h > 0 ? h + \"h \" : \"\";\r\n  let mDisplay = m > 0 ? m + \"min \" : \"\";\r\n  let sDisplay = s > 0 ? s + \"s\" : \"\";\r\n  if (dhms === \"dhms\") {\r\n    return dDisplay + hDisplay + mDisplay + sDisplay;\r\n  } else if (dhms === \"dhm\") {\r\n    return dDisplay + hDisplay + mDisplay;\r\n  }\r\n};\r\n\r\nexport const showMoreLessBtn = (refElement, extraClassName, height) => {\r\n  return setTimeout(() => {\r\n    if (refElement.current) {\r\n      if (\r\n        refElement.current.firstElementChild.offsetHeight > `${height + 100}`\r\n      ) {\r\n        refElement.current.firstElementChild.style.height = `${height}px`;\r\n        refElement.current.firstElementChild.style.overflow = \"hidden\";\r\n        refElement.current.firstElementChild.style.position = \"relative\";\r\n        const showMoreBtn = document.createElement(\"button\");\r\n        showMoreBtn.className = extraClassName;\r\n        showMoreBtn.textContent = \"Show More\";\r\n        refElement.current.firstElementChild.lastElementChild.after(\r\n          showMoreBtn\r\n        );\r\n\r\n        showMoreBtn.addEventListener(\"click\", () => {\r\n          showMoreBtn.style.display = \"none\";\r\n          refElement.current.firstElementChild.style.height = \"100%\";\r\n        });\r\n      }\r\n    }\r\n  }, 100);\r\n};\r\n\r\nexport const unKnownPng =\r\n  \"https://png.pngitem.com/pimgs/s/52-526033_unknown-person-icon-png-transparent-png.png\";\r\n","import { Markup } from \"interweave\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { faThumbsUp, faThumbsDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Recom = ({ recom, widthParam }) => {\r\n  const recMedia = recom.node ? recom.node.mediaRecommendation : recom.media;\r\n\r\n  const rating = recom.node ? recom.node.rating : recom.rating;\r\n\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${recMedia.id}`);\r\n    }, 500);\r\n  };\r\n  return (\r\n    <motion.a\r\n      draggable={true}\r\n      href={`/anime/${recMedia.id}`}\r\n      onClick={animeCardClickHandler}\r\n      className={` ${\r\n        widthParam ? \"w-full ssm:w-8/12 sm:w-11/12 my-3\" : \"w-60 mx-3\"\r\n      }  recom-container`}\r\n    >\r\n      <div className=\"recom-detail\">\r\n        <img loading=\"lazy\" width={160} height={224} alt=\"\" src={recMedia.coverImage.large} style={{backgroundColor:recMedia.coverImage.color}} />\r\n        <div className=\"recom-info\">\r\n          <p className=\"line-clamp-4\">\r\n            <b>Title:</b>\r\n            <br />{\" \"}\r\n            {recMedia.title.english\r\n              ? recMedia.title.english\r\n              : recMedia.title.romaji}\r\n          </p>\r\n          {recMedia.format && (\r\n            <p>\r\n              <b>Format:</b>\r\n              <br /> {recMedia.format.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {recMedia.source && (\r\n            <p>\r\n              <b>Source:</b>\r\n              <br /> {recMedia.source.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {recMedia.status && (\r\n            <p>\r\n              <b>Status:</b>\r\n              <br /> {recMedia.status.toLowerCase()}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {recMedia.description && (\r\n        <div className=\"recom-desc line-clamp-5\">\r\n          <b>Description:</b> <Markup content={recMedia.description} />\r\n        </div>\r\n      )}\r\n      <div className=\"recom-rating\">\r\n        {rating !== undefined &&\r\n          (rating <= 0 ? (\r\n            <div className=\"red-rate\">\r\n              {rating} <FontAwesomeIcon icon={faThumbsDown} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"green-rate\">\r\n              +{rating} <FontAwesomeIcon icon={faThumbsUp} />\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Recom;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircleRate from \"./detailPage/CircleRate\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Anime = ({ anime }) => {\r\n  const client = useApolloClient();\r\n  const history = useHistory();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${anime.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <motion.a\r\n      href={`/anime/${anime.id}`}\r\n      onClick={animeCardClickHandler}\r\n      className=\"anime-card-container group hover-card-num-1\"\r\n      animate={{ opacity: 1, transition: { duration: 1 } }}\r\n      initial={{ opacity: 0 }}\r\n    >\r\n      {anime.averageScore !== undefined && (\r\n        <div\r\n          className=\"anime-circle-rate transform translate-x-4 -translate-y-4 \r\n    group-hover:translate-y-0.5 group-hover:-translate-x-0.5 \"\r\n        >\r\n          <CircleRate rate={anime.averageScore} size={4} />\r\n        </div>\r\n      )}\r\n\r\n      <img loading=\"lazy\" height={224} alt=\"\" src={anime.coverImage.large} style={{backgroundColor:anime.coverImage.color}} />\r\n      <div\r\n        className=\"anime-info\r\n       \"\r\n      >\r\n        <div className=\" bg-yellow-300 \">{anime.format}</div>\r\n        <div className=\" bg-green-300 \">{anime.source}</div>\r\n        <div className=\" bg-red-300 \">{anime.status}</div>\r\n      </div>\r\n      <h3 className=\"line-clamp-2\">\r\n        {anime.title.english !== null\r\n          ? anime.title.english\r\n          : anime.title.romaji}\r\n      </h3>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Anime;\r\n","import React, { useState } from \"react\";\r\nimport Anime from \"./Anime\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AnimeList = ({ allAnimeData, initialQuantity, colsInRow, keyParam }) => {\r\n  const [showMore, setShowMore] = useState({\r\n    stream: initialQuantity,\r\n  });\r\n\r\n  let gridColsTemp = `grid-cols-2 ssm:grid-cols-${colsInRow - 1} lg:grid-cols-${\r\n    colsInRow - 1\r\n  } xl:grid-cols-${colsInRow}`;\r\n\r\n  const streamShowMoreHandler = (e) => {\r\n    if (showMore.stream > 30) {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 999 });\r\n      e.target.style.display = \"none\";\r\n    } else {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 10 });\r\n    }\r\n    if (showMore.stream + 10 >= allAnimeData.length) {\r\n      e.target.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedAllAnimeData = allAnimeData.filter((anime) => {\r\n    let anim = anime.id !== undefined ? anime : anime.node;\r\n    if (!counterAnime.includes(anim.id)) {\r\n      counterAnime.push(anim.id);\r\n      if (anime !== undefined) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"pb-10\">\r\n      <div className=\"anime-list-container\">\r\n        <motion.div className={`anime-list ${gridColsTemp}`}>\r\n          {trimedAllAnimeData\r\n            .filter((_, index) => index <= showMore.stream - 1)\r\n            .map((anime) => {\r\n              //check where the data come from node or media\r\n              const animeData = anime.id !== undefined ? anime : anime.node;\r\n              return (\r\n                <Anime key={`${keyParam}-${animeData.id}`} anime={animeData} />\r\n              );\r\n            })}\r\n        </motion.div>\r\n      </div>\r\n      {allAnimeData.length > initialQuantity && (\r\n        <button\r\n          onClick={streamShowMoreHandler}\r\n          className=\"stream-show-more-btn\"\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default AnimeList;\r\n","import React, { useState, useRef } from \"react\";\r\nimport Recom from \"./Recom\";\r\nimport { faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { recomListQuery } from \"../../utils/queries\";\r\nimport { useQuery } from \"@apollo/client\";\r\n\r\nconst RecomList = ({ allRecom, animeID, initialQuantity, keyParam }) => {\r\n  const isSmallDevice = document.documentElement.clientWidth <= 768;\r\n  const magicNum1 = 250;\r\n  const magicNum2 = isSmallDevice ? 264 : 264 * 2;\r\n  const magicNum3 = 275;\r\n  const rightLeftScroll = useRef(null);\r\n  const wastefulCover = useRef(null);\r\n\r\n  const [showMore, setShowMore] = useState({\r\n    recommend: initialQuantity,\r\n  });\r\n\r\n  let id;\r\n  if (animeID) {\r\n    id = animeID;\r\n  } else {\r\n    id = 16498;\r\n  }\r\n  const { loading, error, data } = useQuery(recomListQuery, {\r\n    variables: {\r\n      id: id,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return null;\r\n  }\r\n\r\n  if (error) {\r\n    console.log(error.message);\r\n    return `Error! ${error}`;\r\n  }\r\n\r\n  let allRecomData;\r\n  if (allRecom) {\r\n    allRecomData = allRecom;\r\n  } else {\r\n    allRecomData = data.Media.recommendations.edges;\r\n  }\r\n\r\n  let isDown = false;\r\n  let startx, scrollLeft;\r\n\r\n  const recSliderMouseDownHandler = (e) => {\r\n    e.preventDefault();\r\n    isDown = true;\r\n    startx = e.pageX - rightLeftScroll.current.offsetLeft;\r\n    scrollLeft = rightLeftScroll.current.scrollLeft;\r\n  };\r\n\r\n  const recSliderMouseLeaveHandler = () => {\r\n    isDown = false;\r\n    wastefulCover.current.style.display = \"none\";\r\n  };\r\n\r\n  const recSliderMouseUpHandler = () => {\r\n    isDown = false;\r\n\r\n    wastefulCover.current.style.display = \"none\";\r\n\r\n    setShowMore({ recommend: allRecomData.length });\r\n  };\r\n\r\n  const recSliderMouseMoveHandler = (e) => {\r\n    if (!isDown) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - rightLeftScroll.current.offsetLeft;\r\n    const walk = (x - startx) * 1.5;\r\n    rightLeftScroll.current.scrollLeft = scrollLeft - walk;\r\n    wastefulCover.current.style.display = \"block\";\r\n  };\r\n\r\n  const rightScrollHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft + magicNum3 : recLeft + magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        const newRecommend = isSmallDevice\r\n          ? showMore.recommend + 1\r\n          : showMore.recommend + 3;\r\n        setShowMore({ recommend: newRecommend });\r\n      }\r\n    } else {\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recLeft === 0 ? recLeft + magicNum1 : recLeft + magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        const newRecommend = isSmallDevice\r\n          ? showMore.recommend + 1\r\n          : showMore.recommend + 3;\r\n        setShowMore({ recommend: newRecommend });\r\n      }\r\n    }\r\n  };\r\n  const leftScrollHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft - magicNum3 : recLeft - magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n    } else {\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft - magicNum3 : recLeft - magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const recTouchHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n\r\n    if (recLeft / recWidth < 0.5) {\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        setShowMore({ recommend: allRecomData.length });\r\n      }\r\n    }\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0 && recLeft !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recLeft,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {allRecomData.length > 0 && (\r\n        <div>\r\n          <h4 className=\"recom-list-title\">Recommendations</h4>\r\n          <div className=\"recommendation-parent\">\r\n            <div\r\n              className=\"recommendation\"\r\n              ref={rightLeftScroll}\r\n              onTouchEnd={recTouchHandler}\r\n              onMouseDown={recSliderMouseDownHandler}\r\n              onMouseLeave={recSliderMouseLeaveHandler}\r\n              onMouseUp={recSliderMouseUpHandler}\r\n              onMouseMove={recSliderMouseMoveHandler}\r\n            >\r\n              <div>\r\n                {allRecomData.slice(0, showMore.recommend - 1).map((recom, index) => {\r\n                    const id = recom.node\r\n                      ? recom.node.mediaRecommendation.id\r\n                      : recom.media.id;\r\n                    return <Recom key={keyParam + id + index} recom={recom} />;\r\n                })}\r\n                <div ref={wastefulCover} className=\"wasteful-cover\"></div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={leftScrollHandler}\r\n              className=\"left-0 bg-gradient-to-l\"\r\n            >\r\n              <FontAwesomeIcon\r\n                className=\"font-icon-recom-list rotate-180\"\r\n                icon={faChevronCircleRight}\r\n              />\r\n            </button>\r\n            <button\r\n              onClick={rightScrollHandler}\r\n              className=\"right-0 bg-gradient-to-r\"\r\n            >\r\n              <FontAwesomeIcon\r\n                className=\"font-icon-recom-list\"\r\n                icon={faChevronCircleRight}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default RecomList;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircleRate from \"../detailPage/CircleRate\";\r\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Markup } from \"interweave\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Top = ({ anime, rank }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${anime.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  let description = anime.description;\r\n  description = description.substring(0, 300);\r\n\r\n  return (\r\n    <div className=\"top-container group\">\r\n      <motion.a\r\n        href={`/anime/${anime.id}`}\r\n        onClick={animeCardClickHandler}\r\n        animate={{ opacity: 1, transition: { duration: 1 } }}\r\n        initial={{ opacity: 0 }}\r\n      >\r\n        <img loading=\"lazy\" width={96} height={160} alt=\"\" src={anime.coverImage.large} />\r\n\r\n        <div className=\"top-info-container\">\r\n          <div className=\"top-status\">\r\n            <h3>\r\n              {anime.title.english ? anime.title.english : anime.title.romaji}\r\n            </h3>\r\n            <div className=\"top-information\">\r\n              {anime.format && <p>{anime.format.toLowerCase()}</p>}\r\n              {anime.source && <p>{anime.source.toLowerCase()}</p>}\r\n              {anime.status && <p>{anime.status.toLowerCase()}</p>}\r\n              <p>\r\n                {anime.season ? anime.season.toLowerCase() : \"\"}{\" \"}\r\n                {anime.seasonYear ? anime.seasonYear : \"\"}\r\n              </p>\r\n            </div>\r\n            <div className=\"top-tag-container\">\r\n              {anime.tags\r\n                .filter((_, index) => index<=3)\r\n                .map((tag) => {\r\n                  return <span key={tag.name}>{tag.name}</span>;\r\n                })}\r\n            </div>\r\n          </div>\r\n          <div className=\"top-desc\">\r\n            <Markup content={description} />\r\n          </div>\r\n\r\n          <div className=\"top-rate-score transform translate-x-4 -translate-y-4 group-hover:translate-y-0.5 group-hover:-translate-x-0.5\">\r\n            <CircleRate size={4} rate={anime.averageScore} />\r\n          </div>\r\n          <div\r\n            className=\"top-rate-popularity transform translate-x-4 translate-y-4 \r\n    group-hover:-translate-y-0.5 group-hover:-translate-x-0.5\"\r\n          >\r\n            <div className=\"relative\">\r\n              <CircleRate\r\n                size={4}\r\n                rate={((anime.popularity / 300000) * 100).toFixed(0)}\r\n                symbol={faHeart}\r\n              />\r\n              <p className=\"top-rate-pop-text\">popularity</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.a>\r\n      <span>{rank}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Top;\r\n","import React, { useState } from \"react\";\r\nimport Top from \"./Top\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst TopList = ({ allAnimeData, initialQuantity, keyParam }) => {\r\n  const [showMore, setShowMore] = useState({\r\n    stream: initialQuantity,\r\n  });\r\n\r\n  const streamShowMoreHandler = (e) => {\r\n    if (showMore.stream > 30) {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 999 });\r\n      e.target.style.display = \"none\";\r\n    } else {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 10 });\r\n    }\r\n    if (showMore.stream + 10 >= allAnimeData.length) {\r\n      e.target.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedAllAnimeData = allAnimeData.filter((anime) => {\r\n    let anim = anime.id !== undefined ? anime : anime.node;\r\n    if (!counterAnime.includes(anim.id)) {\r\n      counterAnime.push(anim.id);\r\n      if (anime !== undefined) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"top-list-container\">\r\n      <div className=\"anime-list-container\">\r\n        <motion.div className=\"anime-list\">\r\n          {trimedAllAnimeData\r\n            .filter((_, index) => index <= showMore.stream - 1)\r\n            .map((anime, index) => {\r\n              //check where the data come from node or media\r\n              const animeData = anime.id !== undefined ? anime : anime.node;\r\n              return (\r\n                <Top\r\n                  key={`${keyParam}-${animeData.id}`}\r\n                  anime={animeData}\r\n                  rank={index + 1}\r\n                />\r\n              );\r\n            })}\r\n        </motion.div>\r\n      </div>\r\n      {allAnimeData.length > initialQuantity && (\r\n        <button\r\n          onClick={streamShowMoreHandler}\r\n          className=\"stream-show-more-btn \"\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default TopList;\r\n"],"sourceRoot":""}