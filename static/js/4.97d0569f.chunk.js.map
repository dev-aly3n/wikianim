{"version":3,"sources":["components/homePage/Top.js","components/homePage/TopList.js","../../../../src/react/hooks/useQuery.ts","components/homePage/Airing.js","components/homePage/AiringList.js","components/homePage/HomeRec.js","components/homePage/AirSlide.js","components/homePage/AiringSlider.js","pages/Home.js","components/detailPage/CircleRate.js","utils/helpers.js","components/detailPage/Recom.js","components/Anime.js","components/AnimeList.js","components/detailPage/RecomList.js"],"names":["Top","anime","rank","history","useHistory","client","useApolloClient","description","substring","className","motion","a","href","id","onClick","e","preventDefault","writeQuery","query","gql","data","loadingbar","__typename","isLoading","setTimeout","push","animate","opacity","transition","duration","initial","width","height","offset","alt","src","coverImage","large","title","english","romaji","format","toLowerCase","source","status","season","seasonYear","tags","filter","_","index","map","tag","name","content","CircleRate","size","rate","averageScore","popularity","toFixed","symbol","faHeart","TopList","allAnimeData","initialQuantity","keyParam","useState","stream","showMore","setShowMore","counterAnime","trimedAllAnimeData","anim","undefined","node","includes","div","animeData","length","target","style","display","useQuery","options","Airing","airing","bannerImage","nextAiringEpisode","episode","icon","faClock","secondsToDhms","timeUntilAiring","AiringList","allAiring","trimedallAiring","media","HomeRecom","allRecom","rec","Recom","widthParam","recom","AirSlide","onGrabbingSlider","animeCardClickHandler","onMouseDown","onTouchStart","genres","genre","AiringSlider","autoSlidePlay","slideNum","setSlideNum","isAutoPlayOn","setIsAutoPlayOn","useCallback","clearTimeout","useEffect","faChevronCircleRight","Home","gridRef","hQuery","homeQuery","loading","error","Loading","console","log","message","trending","airingSchedules","allTime","top100","Fragment","ref","homeRecom","recommendations","RecomList","HomeRec","AnimeList","colsInRow","grad","bg","backgroundImage","borderRadius","right","top","transform","hexToRgbA","hex","c","test","split","join","seconds","dhms","Number","d","Math","floor","h","m","s","dDisplay","hDisplay","mDisplay","showMoreLessBtn","refElement","extraClassName","current","firstElementChild","offsetHeight","overflow","position","showMoreBtn","document","createElement","textContent","lastElementChild","after","addEventListener","unKnownPng","recMedia","mediaRecommendation","rating","draggable","faThumbsDown","faThumbsUp","Anime","gridColsTemp","animeID","isSmallDevice","documentElement","clientWidth","magicNum1","magicNum2","rightLeftScroll","useRef","wastefulCover","recommend","allRecomData","recomListQuery","variables","Media","edges","startx","scrollLeft","isDown","onTouchEnd","recLeft","scrollWidth","round","scrollTo","left","behavior","pageX","offsetLeft","onMouseLeave","onMouseUp","onMouseMove","walk","slice","recWidth","newRecommend"],"mappings":"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","file":"static/js/4.97d0569f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircleRate from \"../detailPage/CircleRate\";\r\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Markup } from \"interweave\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst Top = ({ anime, rank }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${anime.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  let description = anime.description;\r\n  description = description.substring(0, 300);\r\n\r\n  return (\r\n    <div className=\"top-container group\">\r\n      <motion.a\r\n        href={`/anime/${anime.id}`}\r\n        onClick={animeCardClickHandler}\r\n        animate={{ opacity: 1, transition: { duration: 1 } }}\r\n        initial={{ opacity: 0 }}\r\n      >\r\n      <LazyLoad width={96} height={160} offset={300} >\r\n        <img alt=\"\" src={anime.coverImage.large} />\r\n        </LazyLoad>\r\n\r\n        <div className=\"top-info-container\">\r\n          <div className=\"top-status\">\r\n            <h3>\r\n              {anime.title.english ? anime.title.english : anime.title.romaji}\r\n            </h3>\r\n            <div className=\"top-information\">\r\n              {anime.format && <p>{anime.format.toLowerCase()}</p>}\r\n              {anime.source && <p>{anime.source.toLowerCase()}</p>}\r\n              {anime.status && <p>{anime.status.toLowerCase()}</p>}\r\n              <p>\r\n                {anime.season ? anime.season.toLowerCase() : \"\"}{\" \"}\r\n                {anime.seasonYear ? anime.seasonYear : \"\"}\r\n              </p>\r\n            </div>\r\n            <div className=\"top-tag-container\">\r\n              {anime.tags\r\n                .filter((_, index) => index<=3)\r\n                .map((tag) => {\r\n                  return <span key={tag.name}>{tag.name}</span>;\r\n                })}\r\n            </div>\r\n          </div>\r\n          <div className=\"top-desc\">\r\n            <Markup content={description} />\r\n          </div>\r\n\r\n          <div className=\"top-rate-score transform translate-x-4 -translate-y-4 group-hover:translate-y-0.5 group-hover:-translate-x-0.5\">\r\n            <CircleRate size={4} rate={anime.averageScore} />\r\n          </div>\r\n          <div\r\n            className=\"top-rate-popularity transform translate-x-4 translate-y-4 \r\n    group-hover:-translate-y-0.5 group-hover:-translate-x-0.5\"\r\n          >\r\n            <div className=\"relative\">\r\n              <CircleRate\r\n                size={4}\r\n                rate={((anime.popularity / 300000) * 100).toFixed(0)}\r\n                symbol={faHeart}\r\n              />\r\n              <p className=\"top-rate-pop-text\">popularity</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.a>\r\n      <span>{rank}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Top;\r\n","import React, { useState } from \"react\";\r\nimport Top from \"./Top\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst TopList = ({ allAnimeData, initialQuantity, keyParam }) => {\r\n  const [showMore, setShowMore] = useState({\r\n    stream: initialQuantity,\r\n  });\r\n\r\n  const streamShowMoreHandler = (e) => {\r\n    if (showMore.stream > 30) {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 999 });\r\n      e.target.style.display = \"none\";\r\n    } else {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 10 });\r\n    }\r\n    if (showMore.stream + 10 >= allAnimeData.length) {\r\n      e.target.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedAllAnimeData = allAnimeData.filter((anime) => {\r\n    let anim = anime.id !== undefined ? anime : anime.node;\r\n    if (!counterAnime.includes(anim.id)) {\r\n      counterAnime.push(anim.id);\r\n      if (anime !== undefined) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"top-list-container\">\r\n      <div className=\"anime-list-container\">\r\n        <motion.div className=\"anime-list\">\r\n          {trimedAllAnimeData\r\n            .filter((_, index) => index <= showMore.stream - 1)\r\n            .map((anime, index) => {\r\n              //check where the data come from node or media\r\n              const animeData = anime.id !== undefined ? anime : anime.node;\r\n              return (\r\n                <Top\r\n                  key={`${keyParam}-${animeData.id}`}\r\n                  anime={animeData}\r\n                  rank={index + 1}\r\n                />\r\n              );\r\n            })}\r\n        </motion.div>\r\n      </div>\r\n      {allAnimeData.length > initialQuantity && (\r\n        <button\r\n          onClick={streamShowMoreHandler}\r\n          className=\"stream-show-more-btn \"\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default TopList;\r\n","import { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\n\nimport { QueryHookOptions, QueryResult } from '../types/types';\nimport { useBaseQuery } from './utils/useBaseQuery';\nimport { OperationVariables } from '../../core';\n\nexport function useQuery<TData = any, TVariables = OperationVariables>(\n  query: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: QueryHookOptions<TData, TVariables>\n) {\n  return useBaseQuery<TData, TVariables>(query, options, false) as QueryResult<\n    TData,\n    TVariables\n  >;\n}\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { secondsToDhms } from \"../../utils/helpers\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst Airing = ({ airing }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${airing.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <motion.a\r\n      onClick={animeCardClickHandler}\r\n      href={`/anime/${airing.id}`}\r\n      className=\"airing-container group\"\r\n      animate={{ opacity: 1, transition: { duration: 2 } }}\r\n      initial={{ opacity: 0 }}\r\n    >\r\n      <div>\r\n      <LazyLoad offset={100} >\r\n        <img alt=\"\"\r\n          className=\"transform group-hover:scale-110\"\r\n          src={airing.bannerImage}\r\n        />\r\n        </LazyLoad>\r\n        <div\r\n          className=\"group-hover:bg-opacity-60\"\r\n        >\r\n          <h3>\r\n            {airing.title.english ? airing.title.english : airing.title.romaji}\r\n          </h3>\r\n          <p>\r\n            <span>Episode {airing.nextAiringEpisode.episode} </span>\r\n            <span className=\"\">\r\n              <FontAwesomeIcon icon={faClock} />{\" \"}\r\n              {secondsToDhms(airing.nextAiringEpisode.timeUntilAiring, \"dhm\")}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Airing;\r\n","import React from \"react\";\r\nimport Airing from \"./Airing\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AiringList = ({ allAiring, keyParam }) => {\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedallAiring = allAiring.filter((anime) => {\r\n    if (!counterAnime.includes(anime.media.id)) {\r\n      counterAnime.push(anime.media.id);\r\n      if ((anime.media !== undefined) & (anime.media.bannerImage !== null)) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"airing-list-container\">\r\n      <div>\r\n        <div>\r\n          {trimedallAiring\r\n            .filter((_, index) => index <= 7)\r\n            .map((airing) => {\r\n              return (\r\n                <Airing\r\n                  key={`${keyParam}-${airing.media.id}`}\r\n                  airing={airing.media}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\nexport default AiringList;\r\n","import Recom from \"../detailPage/Recom\";\r\n\r\nconst HomeRecom = ({ allRecom, keyParam }) => {\r\n  return (\r\n    <div className=\"home-rec\">\r\n      {allRecom\r\n        .filter((_, index) => index <= 1)\r\n        .map((rec) => {\r\n          return (\r\n            <Recom\r\n              key={keyParam + rec.media.id}\r\n              widthParam={true}\r\n              recom={rec}\r\n            />\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeRecom;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { secondsToDhms } from \"../../utils/helpers\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Markup } from \"interweave\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst AirSlide = ({ airing, onGrabbingSlider }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${airing.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"air-slide-container anni group\"\r\n      onMouseDown={() => onGrabbingSlider()}\r\n      onTouchStart={() => onGrabbingSlider()}\r\n    >\r\n    <LazyLoad offset={300} >\r\n      <img\r\n        alt=\"\"\r\n        className=\"transform group-hover:scale-110 \"\r\n        src={airing.bannerImage}\r\n      />\r\n      </LazyLoad>\r\n      <div className=\"group-hover:bg-opacity-80\">\r\n        <div className=\"air-slide-cover-image transform group-hover:scale-95 \">\r\n          <a onClick={animeCardClickHandler} href={`/anime/${airing.id}`}>\r\n          <LazyLoad width={160} height={224} offset={300} >\r\n            <img alt=\"\" src={airing.coverImage.large} />\r\n            </LazyLoad>\r\n          </a>\r\n        </div>\r\n        <div className=\"air-slide-info\">\r\n          <a href={`/anime/${airing.id}`} onClick={animeCardClickHandler}>\r\n            <h3 onClick={animeCardClickHandler}>\r\n              {airing.title.english\r\n                ? airing.title.english\r\n                : airing.title.romaji}\r\n            </h3>\r\n          </a>\r\n          {airing.format && (\r\n            <p>\r\n              <b>Format:</b>\r\n              <br /> {airing.format.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {airing.source && (\r\n            <p>\r\n              <b>Source:</b>\r\n              <br /> {airing.source.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {airing.genres && (\r\n            <p>\r\n              <b>Genres:</b>\r\n              <br />{\" \"}\r\n              {airing.genres\r\n                .filter((_, index) => index <= 2)\r\n                .map((genre) => {\r\n                  return (\r\n                    <span key={genre} className=\"air-slide-genres\">\r\n                      {genre}\r\n                    </span>\r\n                  );\r\n                })}\r\n            </p>\r\n          )}\r\n          <p className=\"text-indigo-200\">\r\n            <span>\r\n              <b>Next airing:</b> <br /> Episode{\" \"}\r\n              {airing.nextAiringEpisode.episode}{\" \"}\r\n            </span>\r\n            <span className=\"\">\r\n              <FontAwesomeIcon icon={faClock} />{\" \"}\r\n              {secondsToDhms(airing.nextAiringEpisode.timeUntilAiring, \"dhm\")}\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div className=\"air-slide-desc\">\r\n          <Markup content={airing.description} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AirSlide;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport AirSlide from \"./AirSlide\";\r\nimport { faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst AiringSlider = ({ allAiring, keyParam }) => {\r\n  let autoSlidePlay;\r\n  const [slideNum, setSlideNum] = useState(0);\r\n  const [isAutoPlayOn, setIsAutoPlayOn] = useState(true);\r\n\r\n  const onGrabbingSlider = useCallback(() => {\r\n    setIsAutoPlayOn(false);\r\n    clearTimeout(autoSlidePlay);\r\n    // eslint-disable-next-line\r\n  }, [setIsAutoPlayOn]);\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedallAiring = allAiring.filter((anime) => {\r\n    if (!counterAnime.includes(anime.media.id)) {\r\n      counterAnime.push(anime.media.id);\r\n      if ((anime.media !== undefined) & (anime.media.bannerImage !== null)) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  const rightHandler = () => {\r\n    setIsAutoPlayOn(false);\r\n\r\n    setTimeout(() => {\r\n      if (slideNum === 7) {\r\n        setSlideNum(0);\r\n      } else {\r\n        setSlideNum(slideNum + 1);\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const leftHandler = () => {\r\n    setIsAutoPlayOn(false);\r\n    setTimeout(() => {\r\n      if (slideNum === 0) {\r\n        setSlideNum(7);\r\n      } else {\r\n        setSlideNum(slideNum - 1);\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAutoPlayOn) {\r\n      // eslint-disable-next-line\r\n      autoSlidePlay = setTimeout(() => {\r\n        if (slideNum === 7) {\r\n          setSlideNum(0);\r\n        } else {\r\n          setSlideNum(slideNum + 1);\r\n        }\r\n      }, 6000);\r\n      return () => {\r\n        clearTimeout(autoSlidePlay);\r\n      };\r\n    }\r\n  }, [slideNum, isAutoPlayOn]);\r\n  return (\r\n    <div className=\"airing-slider-container\">\r\n      {trimedallAiring\r\n        .filter((_, index) => index === slideNum)\r\n        .map((airing) => {\r\n          return (\r\n            <AirSlide\r\n              onGrabbingSlider={onGrabbingSlider}\r\n              key={`${keyParam}-${airing.media.id}`}\r\n              airing={airing.media}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <button onClick={leftHandler} className=\"left-0\">\r\n        <FontAwesomeIcon\r\n          className=\"text-4xl transform rotate-180 text-gray-500\"\r\n          icon={faChevronCircleRight}\r\n        />\r\n      </button>\r\n      <button onClick={rightHandler} className=\"right-0\">\r\n        <FontAwesomeIcon\r\n          className=\"text-4xl text-gray-500\"\r\n          icon={faChevronCircleRight}\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default AiringSlider;\r\n","import React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { homeQuery } from \"../utils/queries\";\r\nimport AnimeList from \"../components/AnimeList\";\r\nimport AiringList from \"../components/homePage/AiringList\";\r\nimport HomeRec from \"../components/homePage/HomeRec\";\r\nimport TopList from \"../components/homePage/TopList\";\r\nimport RecomList from \"../components/detailPage/RecomList\";\r\nimport AiringSlider from \"../components/homePage/AiringSlider\";\r\nimport Loading from \"./Loading\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Home = ({ gridRef }) => {\r\n  const client = useApolloClient();\r\n  client.writeQuery({\r\n    query: gql`\r\n      query WriteIsLoading {\r\n        loadingbar {\r\n          isLoading\r\n        }\r\n      }\r\n    `,\r\n    data: {\r\n      // Contains the data to write\r\n      loadingbar: {\r\n        __typename: \"LoadingBar\",\r\n        isLoading: 80,\r\n      },\r\n    },\r\n  });\r\n\r\n  const hQuery = homeQuery;\r\n  const { loading, error, data } = useQuery(hQuery);\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    console.log(error.message);\r\n    return `Error! ${error}`;\r\n  }\r\n  const trending = data.trending.media;\r\n  const airing = data.airing.airingSchedules;\r\n  const allTime = data.allTime.media;\r\n  const top100 = data.top100.media;\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        ref={gridRef}\r\n        className=\" home-grid-container home-page-container\"\r\n      >\r\n        <div className=\"h-header\">\r\n          {airing[0] && (\r\n            <div>\r\n              <AiringSlider allAiring={airing} keyParam={\"airingSlider\"} />\r\n            </div>\r\n          )}\r\n\r\n          {data.homeRecom.recommendations[0] && (\r\n            <div>\r\n              <RecomList\r\n                allRecom={data.homeRecom.recommendations}\r\n                initialQuantity={7}\r\n                keyParam={\"recSlider\"}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"h-sidebar \">\r\n          {data.homeRecom.recommendations[0] && (\r\n            <div>\r\n              <h3>Top Recommendations</h3>\r\n              <HomeRec\r\n                allRecom={data.homeRecom.recommendations}\r\n                keyParam={\"topRec\"}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {airing[0] && (\r\n            <div>\r\n              <h3>Airing Schedules</h3>\r\n              <AiringList allAiring={airing} keyParam={\"airing\"} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"h-trending\">\r\n          <h3>Trending</h3>\r\n          <AnimeList\r\n            allAnimeData={trending}\r\n            colsInRow={4}\r\n            initialQuantity={8}\r\n            keyParam={\"homeTrending\"}\r\n          />\r\n        </div>\r\n        <div className=\"h-alltime\">\r\n          <h3>Popular All Time</h3>\r\n          <AnimeList\r\n            allAnimeData={allTime}\r\n            colsInRow={4}\r\n            initialQuantity={8}\r\n            keyParam={\"homepopAllTime\"}\r\n          />\r\n        </div>\r\n        <div className=\"h-top100\">\r\n          <h3>Top 100</h3>\r\n          <TopList\r\n            allAnimeData={top100}\r\n            initialQuantity={8}\r\n            keyParam={\"top100\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst CircleRate = ({ rate, symbol, size }) => {\r\n  let grad, bg;\r\n  if (rate === null) {\r\n    rate = 0;\r\n  }\r\n  if (rate <= 25) {\r\n    bg = \"bg-red-500\";\r\n    grad = `linear-gradient(${\r\n      (rate / 100) * 360 + 90\r\n    }deg, transparent 50%, rgb(212, 212, 212) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate < 50) {\r\n    bg = \"bg-yellow-500\";\r\n    grad = `linear-gradient(${\r\n      (rate / 100) * 360 + 90\r\n    }deg, transparent 50%, rgb(212, 212, 212) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate === 50) {\r\n    bg = \"bg-yellow-300\";\r\n    grad = `linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate >= 100) {\r\n    rate = 100;\r\n    bg = \"bg-green-600\";\r\n    grad = \"none\";\r\n  } else if (rate <= 75) {\r\n    bg = \"bg-green-300\";\r\n    grad = `linear-gradient(${\r\n      ((rate - 50) / 100) * 360 + 90\r\n    }deg, transparent 50%, rgba(110,231,183,1) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else {\r\n    bg = \"bg-green-500\";\r\n    grad = `linear-gradient(${\r\n      ((rate - 50) / 100) * 360 + 90\r\n    }deg, transparent 50%, rgba(16,185,129,1) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: grad,\r\n        width: `${size}rem`,\r\n        height: `${size}rem`,\r\n        borderRadius: \"50%\",\r\n      }}\r\n      className={`${bg} circle-rate-container group group-hover:animate-reversecycler`}\r\n    >\r\n      <div\r\n        className=\"group-hover:animate-cycler\"\r\n        style={{\r\n          width: `${size - 1}rem`,\r\n          height: `${size - 1}rem`,\r\n          borderRadius: \"50%\",\r\n        }}\r\n      >\r\n        {symbol ? (\r\n          <div className=\"rate-symbol\">\r\n            <FontAwesomeIcon\r\n              icon={symbol}\r\n              className={`${\r\n                size === 5 ? \"text-6xl\" : size === 4 ? \"text-5xl \" : \"\"\r\n              } text-red-500`}\r\n            />\r\n            <div\r\n              className={`${\r\n                size === 5 ? \"text-lg\" : size === 4 ? \"text-sm\" : \"\"\r\n              } text-white absolute`}\r\n              style={{\r\n                right: \"50%\",\r\n                top: \"50%\",\r\n                transform: \"translate(50%, -50%)\",\r\n              }}\r\n            >\r\n              {rate}%\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <span className=\"score-num\">\r\n            <span>score</span>\r\n            <span\r\n              className={`${\r\n                size === 5 ? \"text-2xl\" : size === 4 ? \"text-base\" : \"\"\r\n              }`}\r\n            >\r\n              {rate}%\r\n            </span>\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircleRate;\r\n","// convert hex to rgba\r\nexport const hexToRgbA = (hex, opacity) => {\r\n  let c;\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split(\"\");\r\n    if (c.length === 3) {\r\n      c = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n    }\r\n    c = \"0x\" + c.join(\"\");\r\n    return (\r\n      \"rgba(\" +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(\",\") +\r\n      `,${opacity})`\r\n    );\r\n  }\r\n  return \"rgba(0,0,0,0.2)\";\r\n};\r\n\r\nexport const secondsToDhms = (seconds, dhms) => {\r\n  seconds = Number(seconds);\r\n  let d = Math.floor(seconds / (3600 * 24));\r\n  let h = Math.floor((seconds % (3600 * 24)) / 3600);\r\n  let m = Math.floor((seconds % 3600) / 60);\r\n  let s = Math.floor(seconds % 60);\r\n  let dDisplay = d > 0 ? d + \"d \" : \"\";\r\n  let hDisplay = h > 0 ? h + \"h \" : \"\";\r\n  let mDisplay = m > 0 ? m + \"min \" : \"\";\r\n  let sDisplay = s > 0 ? s + \"s\" : \"\";\r\n  if (dhms === \"dhms\") {\r\n    return dDisplay + hDisplay + mDisplay + sDisplay;\r\n  } else if (dhms === \"dhm\") {\r\n    return dDisplay + hDisplay + mDisplay;\r\n  }\r\n};\r\n\r\nexport const showMoreLessBtn = (refElement, extraClassName, height) => {\r\n  return setTimeout(() => {\r\n    if (refElement.current) {\r\n      if (\r\n        refElement.current.firstElementChild.offsetHeight > `${height + 100}`\r\n      ) {\r\n        refElement.current.firstElementChild.style.height = `${height}px`;\r\n        refElement.current.firstElementChild.style.overflow = \"hidden\";\r\n        refElement.current.firstElementChild.style.position = \"relative\";\r\n        const showMoreBtn = document.createElement(\"button\");\r\n        showMoreBtn.className = extraClassName;\r\n        showMoreBtn.textContent = \"Show More\";\r\n        refElement.current.firstElementChild.lastElementChild.after(\r\n          showMoreBtn\r\n        );\r\n\r\n        showMoreBtn.addEventListener(\"click\", () => {\r\n          showMoreBtn.style.display = \"none\";\r\n          refElement.current.firstElementChild.style.height = \"100%\";\r\n        });\r\n      }\r\n    }\r\n  }, 100);\r\n};\r\n\r\nexport const unKnownPng =\r\n  \"https://png.pngitem.com/pimgs/s/52-526033_unknown-person-icon-png-transparent-png.png\";\r\n","import { Markup } from \"interweave\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { faThumbsUp, faThumbsDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst Recom = ({ recom, widthParam }) => {\r\n  const recMedia = recom.node ? recom.node.mediaRecommendation : recom.media;\r\n\r\n  const rating = recom.node ? recom.node.rating : recom.rating;\r\n\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${recMedia.id}`);\r\n    }, 500);\r\n  };\r\n  return (\r\n    <motion.a\r\n      draggable={true}\r\n      href={`/anime/${recMedia.id}`}\r\n      onClick={animeCardClickHandler}\r\n      className={` ${\r\n        widthParam ? \"w-full ssm:w-8/12 sm:w-11/12 my-3\" : \"w-60 mx-3\"\r\n      }  recom-container`}\r\n    >\r\n      <div className=\"recom-detail\">\r\n      <LazyLoad width={160} height={224} offset={100} >\r\n        <img alt=\"\" src={recMedia.coverImage.large} />\r\n        </LazyLoad>\r\n        <div className=\"recom-info\">\r\n          <p className=\"line-clamp-4\">\r\n            <b>Title:</b>\r\n            <br />{\" \"}\r\n            {recMedia.title.english\r\n              ? recMedia.title.english\r\n              : recMedia.title.romaji}\r\n          </p>\r\n          {recMedia.format && (\r\n            <p>\r\n              <b>Format:</b>\r\n              <br /> {recMedia.format.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {recMedia.source && (\r\n            <p>\r\n              <b>Source:</b>\r\n              <br /> {recMedia.source.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {recMedia.status && (\r\n            <p>\r\n              <b>Status:</b>\r\n              <br /> {recMedia.status.toLowerCase()}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {recMedia.description && (\r\n        <div className=\"recom-desc line-clamp-5\">\r\n          <b>Description:</b> <Markup content={recMedia.description} />\r\n        </div>\r\n      )}\r\n      <div className=\"recom-rating\">\r\n        {rating !== undefined &&\r\n          (rating <= 0 ? (\r\n            <div className=\"red-rate\">\r\n              {rating} <FontAwesomeIcon icon={faThumbsDown} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"green-rate\">\r\n              +{rating} <FontAwesomeIcon icon={faThumbsUp} />\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Recom;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircleRate from \"./detailPage/CircleRate\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst Anime = ({ anime }) => {\r\n  const client = useApolloClient();\r\n  const history = useHistory();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${anime.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <motion.a\r\n      href={`/anime/${anime.id}`}\r\n      onClick={animeCardClickHandler}\r\n      className=\"anime-card-container group hover-card-num-1\"\r\n      animate={{ opacity: 1, transition: { duration: 1 } }}\r\n      initial={{ opacity: 0 }}\r\n    >\r\n      {anime.averageScore !== undefined && (\r\n        <div\r\n          className=\"anime-circle-rate transform translate-x-4 -translate-y-4 \r\n    group-hover:translate-y-0.5 group-hover:-translate-x-0.5 \"\r\n        >\r\n          <CircleRate rate={anime.averageScore} size={4} />\r\n        </div>\r\n      )}\r\n      <LazyLoad height={224} offset={100} >\r\n      <img alt=\"\" src={anime.coverImage.large} />\r\n      </LazyLoad>\r\n      <div\r\n        className=\"anime-info\r\n       \"\r\n      >\r\n        <div className=\" bg-yellow-300 \">{anime.format}</div>\r\n        <div className=\" bg-green-300 \">{anime.source}</div>\r\n        <div className=\" bg-red-300 \">{anime.status}</div>\r\n      </div>\r\n      <h3 className=\"line-clamp-2\">\r\n        {anime.title.english !== null\r\n          ? anime.title.english\r\n          : anime.title.romaji}\r\n      </h3>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Anime;\r\n","import React, { useState } from \"react\";\r\nimport Anime from \"./Anime\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AnimeList = ({ allAnimeData, initialQuantity, colsInRow, keyParam }) => {\r\n  const [showMore, setShowMore] = useState({\r\n    stream: initialQuantity,\r\n  });\r\n\r\n  let gridColsTemp = `grid-cols-2 ssm:grid-cols-${colsInRow - 1} lg:grid-cols-${\r\n    colsInRow - 1\r\n  } xl:grid-cols-${colsInRow}`;\r\n\r\n  const streamShowMoreHandler = (e) => {\r\n    if (showMore.stream > 30) {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 999 });\r\n      e.target.style.display = \"none\";\r\n    } else {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 10 });\r\n    }\r\n    if (showMore.stream + 10 >= allAnimeData.length) {\r\n      e.target.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedAllAnimeData = allAnimeData.filter((anime) => {\r\n    let anim = anime.id !== undefined ? anime : anime.node;\r\n    if (!counterAnime.includes(anim.id)) {\r\n      counterAnime.push(anim.id);\r\n      if (anime !== undefined) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"pb-10\">\r\n      <div className=\"anime-list-container\">\r\n        <motion.div className={`anime-list ${gridColsTemp}`}>\r\n          {trimedAllAnimeData\r\n            .filter((_, index) => index <= showMore.stream - 1)\r\n            .map((anime) => {\r\n              //check where the data come from node or media\r\n              const animeData = anime.id !== undefined ? anime : anime.node;\r\n              return (\r\n                <Anime key={`${keyParam}-${animeData.id}`} anime={animeData} />\r\n              );\r\n            })}\r\n        </motion.div>\r\n      </div>\r\n      {allAnimeData.length > initialQuantity && (\r\n        <button\r\n          onClick={streamShowMoreHandler}\r\n          className=\"stream-show-more-btn\"\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default AnimeList;\r\n","import React, { useState, useRef } from \"react\";\r\nimport Recom from \"./Recom\";\r\nimport { faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { recomListQuery } from \"../../utils/queries\";\r\nimport { useQuery } from \"@apollo/client\";\r\n\r\nconst RecomList = ({ allRecom, animeID, initialQuantity, keyParam }) => {\r\n  const isSmallDevice = document.documentElement.clientWidth <= 768;\r\n  const magicNum1 = 250;\r\n  const magicNum2 = isSmallDevice ? 264 : 264 * 2;\r\n  const magicNum3 = 275;\r\n  const rightLeftScroll = useRef(null);\r\n  const wastefulCover = useRef(null);\r\n\r\n  const [showMore, setShowMore] = useState({\r\n    recommend: initialQuantity,\r\n  });\r\n\r\n  let id;\r\n  if (animeID) {\r\n    id = animeID;\r\n  } else {\r\n    id = 16498;\r\n  }\r\n  const { loading, error, data } = useQuery(recomListQuery, {\r\n    variables: {\r\n      id: id,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return null;\r\n  }\r\n\r\n  if (error) {\r\n    console.log(error.message);\r\n    return `Error! ${error}`;\r\n  }\r\n\r\n  let allRecomData;\r\n  if (allRecom) {\r\n    allRecomData = allRecom;\r\n  } else {\r\n    allRecomData = data.Media.recommendations.edges;\r\n  }\r\n\r\n  let isDown = false;\r\n  let startx, scrollLeft;\r\n\r\n  const recSliderMouseDownHandler = (e) => {\r\n    e.preventDefault();\r\n    isDown = true;\r\n    startx = e.pageX - rightLeftScroll.current.offsetLeft;\r\n    scrollLeft = rightLeftScroll.current.scrollLeft;\r\n  };\r\n\r\n  const recSliderMouseLeaveHandler = () => {\r\n    isDown = false;\r\n    wastefulCover.current.style.display = \"none\";\r\n  };\r\n\r\n  const recSliderMouseUpHandler = () => {\r\n    isDown = false;\r\n\r\n    wastefulCover.current.style.display = \"none\";\r\n\r\n    setShowMore({ recommend: allRecomData.length });\r\n  };\r\n\r\n  const recSliderMouseMoveHandler = (e) => {\r\n    if (!isDown) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - rightLeftScroll.current.offsetLeft;\r\n    const walk = (x - startx) * 1.5;\r\n    rightLeftScroll.current.scrollLeft = scrollLeft - walk;\r\n    wastefulCover.current.style.display = \"block\";\r\n  };\r\n\r\n  const rightScrollHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft + magicNum3 : recLeft + magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        const newRecommend = isSmallDevice\r\n          ? showMore.recommend + 1\r\n          : showMore.recommend + 3;\r\n        setShowMore({ recommend: newRecommend });\r\n      }\r\n    } else {\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recLeft === 0 ? recLeft + magicNum1 : recLeft + magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        const newRecommend = isSmallDevice\r\n          ? showMore.recommend + 1\r\n          : showMore.recommend + 3;\r\n        setShowMore({ recommend: newRecommend });\r\n      }\r\n    }\r\n  };\r\n  const leftScrollHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft - magicNum3 : recLeft - magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n    } else {\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft - magicNum3 : recLeft - magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const recTouchHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n\r\n    if (recLeft / recWidth < 0.5) {\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        setShowMore({ recommend: allRecomData.length });\r\n      }\r\n    }\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0 && recLeft !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recLeft,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {allRecomData.length > 0 && (\r\n        <div>\r\n          <h4 className=\"recom-list-title\">Recommendations</h4>\r\n          <div className=\"recommendation-parent\">\r\n            <div\r\n              className=\"recommendation\"\r\n              ref={rightLeftScroll}\r\n              onTouchEnd={recTouchHandler}\r\n              onMouseDown={recSliderMouseDownHandler}\r\n              onMouseLeave={recSliderMouseLeaveHandler}\r\n              onMouseUp={recSliderMouseUpHandler}\r\n              onMouseMove={recSliderMouseMoveHandler}\r\n            >\r\n              <div>\r\n                {allRecomData.slice(0, showMore.recommend - 1).map((recom, index) => {\r\n                    const id = recom.node\r\n                      ? recom.node.mediaRecommendation.id\r\n                      : recom.media.id;\r\n                    return <Recom key={keyParam + id + index} recom={recom} />;\r\n                })}\r\n                <div ref={wastefulCover} className=\"wasteful-cover\"></div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={leftScrollHandler}\r\n              className=\"left-0 bg-gradient-to-l\"\r\n            >\r\n              <FontAwesomeIcon\r\n                className=\"font-icon-recom-list rotate-180\"\r\n                icon={faChevronCircleRight}\r\n              />\r\n            </button>\r\n            <button\r\n              onClick={rightScrollHandler}\r\n              className=\"right-0 bg-gradient-to-r\"\r\n            >\r\n              <FontAwesomeIcon\r\n                className=\"font-icon-recom-list\"\r\n                icon={faChevronCircleRight}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default RecomList;\r\n"],"sourceRoot":""}