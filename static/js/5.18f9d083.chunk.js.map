{"version":3,"sources":["components/homePage/Top.js","components/homePage/TopList.js","components/homePage/Airing.js","components/homePage/AiringList.js","components/homePage/HomeRec.js","components/homePage/AirSlide.js","components/homePage/AiringSlider.js","pages/Home.js","components/detailPage/CircleRate.js","utils/helpers.js","components/detailPage/Recom.js","components/Anime.js","components/AnimeList.js","components/detailPage/RecomList.js"],"names":["Top","anime","rank","history","useHistory","client","useApolloClient","description","substring","className","motion","a","href","id","onClick","e","preventDefault","writeQuery","query","gql","data","loadingbar","__typename","isLoading","setTimeout","push","animate","opacity","transition","duration","initial","alt","src","coverImage","large","title","english","romaji","format","toLowerCase","source","status","season","seasonYear","tags","filter","_","index","map","tag","name","content","CircleRate","size","rate","averageScore","popularity","toFixed","symbol","faHeart","TopList","allAnimeData","initialQuantity","keyParam","useState","stream","showMore","setShowMore","counterAnime","trimedAllAnimeData","anim","undefined","node","includes","div","animeData","length","target","style","display","Airing","airing","bannerImage","nextAiringEpisode","episode","icon","faClock","secondsToDhms","timeUntilAiring","AiringList","allAiring","trimedallAiring","media","HomeRecom","allRecom","rec","Recom","widthParam","recom","AirSlide","onGrabbingSlider","animeCardClickHandler","onMouseDown","onTouchStart","genres","genre","AiringSlider","autoSlidePlay","slideNum","setSlideNum","isAutoPlayOn","setIsAutoPlayOn","useCallback","clearTimeout","useEffect","faChevronCircleRight","Home","gridRef","hQuery","homeQuery","useQuery","loading","error","Loading","console","log","message","trending","airingSchedules","allTime","top100","Fragment","ref","homeRecom","recommendations","RecomList","HomeRec","AnimeList","colsInRow","grad","bg","backgroundImage","width","height","borderRadius","right","top","transform","hexToRgbA","hex","c","test","split","join","seconds","dhms","Number","d","Math","floor","h","m","s","dDisplay","hDisplay","mDisplay","showMoreLessBtn","refElement","extraClassName","current","firstElementChild","offsetHeight","overflow","position","showMoreBtn","document","createElement","textContent","lastElementChild","after","addEventListener","unKnownPng","recMedia","mediaRecommendation","rating","draggable","offset","faThumbsDown","faThumbsUp","Anime","gridColsTemp","animeID","isSmallDevice","documentElement","clientWidth","magicNum1","magicNum2","rightLeftScroll","useRef","wastefulCover","recommend","allRecomData","recomListQuery","variables","Media","edges","startx","scrollLeft","isDown","onTouchEnd","recLeft","scrollWidth","round","scrollTo","left","behavior","pageX","offsetLeft","onMouseLeave","onMouseUp","onMouseMove","walk","slice","recWidth","newRecommend"],"mappings":"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","file":"static/js/5.18f9d083.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircleRate from \"../detailPage/CircleRate\";\r\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Markup } from \"interweave\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Top = ({ anime, rank }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${anime.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  let description = anime.description;\r\n  description = description.substring(0, 300);\r\n\r\n  return (\r\n    <div className=\"top-container group\">\r\n      <motion.a\r\n        href={`/anime/${anime.id}`}\r\n        onClick={animeCardClickHandler}\r\n        animate={{ opacity: 1, transition: { duration: 1 } }}\r\n        initial={{ opacity: 0 }}\r\n      >\r\n        <img alt=\"\" src={anime.coverImage.large} />\r\n\r\n        <div className=\"top-info-container\">\r\n          <div className=\"top-status\">\r\n            <h3>\r\n              {anime.title.english ? anime.title.english : anime.title.romaji}\r\n            </h3>\r\n            <div className=\"top-information\">\r\n              {anime.format && <p>{anime.format.toLowerCase()}</p>}\r\n              {anime.source && <p>{anime.source.toLowerCase()}</p>}\r\n              {anime.status && <p>{anime.status.toLowerCase()}</p>}\r\n              <p>\r\n                {anime.season ? anime.season.toLowerCase() : \"\"}{\" \"}\r\n                {anime.seasonYear ? anime.seasonYear : \"\"}\r\n              </p>\r\n            </div>\r\n            <div className=\"top-tag-container\">\r\n              {anime.tags\r\n                .filter((_, index) => index<=3)\r\n                .map((tag) => {\r\n                  return <span key={tag.name}>{tag.name}</span>;\r\n                })}\r\n            </div>\r\n          </div>\r\n          <div className=\"top-desc\">\r\n            <Markup content={description} />\r\n          </div>\r\n\r\n          <div className=\"top-rate-score transform translate-x-4 -translate-y-4 group-hover:translate-y-0.5 group-hover:-translate-x-0.5\">\r\n            <CircleRate size={4} rate={anime.averageScore} />\r\n          </div>\r\n          <div\r\n            className=\"top-rate-popularity transform translate-x-4 translate-y-4 \r\n    group-hover:-translate-y-0.5 group-hover:-translate-x-0.5\"\r\n          >\r\n            <div className=\"relative\">\r\n              <CircleRate\r\n                size={4}\r\n                rate={((anime.popularity / 300000) * 100).toFixed(0)}\r\n                symbol={faHeart}\r\n              />\r\n              <p className=\"top-rate-pop-text\">popularity</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.a>\r\n      <span>{rank}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Top;\r\n","import React, { useState } from \"react\";\r\nimport Top from \"./Top\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst TopList = ({ allAnimeData, initialQuantity, keyParam }) => {\r\n  const [showMore, setShowMore] = useState({\r\n    stream: initialQuantity,\r\n  });\r\n\r\n  const streamShowMoreHandler = (e) => {\r\n    if (showMore.stream > 30) {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 999 });\r\n      e.target.style.display = \"none\";\r\n    } else {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 10 });\r\n    }\r\n    if (showMore.stream + 10 >= allAnimeData.length) {\r\n      e.target.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedAllAnimeData = allAnimeData.filter((anime) => {\r\n    let anim = anime.id !== undefined ? anime : anime.node;\r\n    if (!counterAnime.includes(anim.id)) {\r\n      counterAnime.push(anim.id);\r\n      if (anime !== undefined) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"top-list-container\">\r\n      <div className=\"anime-list-container\">\r\n        <motion.div className=\"anime-list\">\r\n          {trimedAllAnimeData\r\n            .filter((_, index) => index <= showMore.stream - 1)\r\n            .map((anime, index) => {\r\n              //check where the data come from node or media\r\n              const animeData = anime.id !== undefined ? anime : anime.node;\r\n              return (\r\n                <Top\r\n                  key={`${keyParam}-${animeData.id}`}\r\n                  anime={animeData}\r\n                  rank={index + 1}\r\n                />\r\n              );\r\n            })}\r\n        </motion.div>\r\n      </div>\r\n      {allAnimeData.length > initialQuantity && (\r\n        <button\r\n          onClick={streamShowMoreHandler}\r\n          className=\"stream-show-more-btn \"\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default TopList;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { secondsToDhms } from \"../../utils/helpers\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Airing = ({ airing }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${airing.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <motion.a\r\n      onClick={animeCardClickHandler}\r\n      href={`/anime/${airing.id}`}\r\n      className=\"airing-container group\"\r\n      animate={{ opacity: 1, transition: { duration: 2 } }}\r\n      initial={{ opacity: 0 }}\r\n    >\r\n      <div>\r\n        <img alt=\"\"\r\n          className=\"transform group-hover:scale-110\"\r\n          src={airing.bannerImage}\r\n        />\r\n        <div\r\n          className=\"group-hover:bg-opacity-60\"\r\n        >\r\n          <h3>\r\n            {airing.title.english ? airing.title.english : airing.title.romaji}\r\n          </h3>\r\n          <p>\r\n            <span>Episode {airing.nextAiringEpisode.episode} </span>\r\n            <span className=\"\">\r\n              <FontAwesomeIcon icon={faClock} />{\" \"}\r\n              {secondsToDhms(airing.nextAiringEpisode.timeUntilAiring, \"dhm\")}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Airing;\r\n","import React from \"react\";\r\nimport Airing from \"./Airing\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AiringList = ({ allAiring, keyParam }) => {\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedallAiring = allAiring.filter((anime) => {\r\n    if (!counterAnime.includes(anime.media.id)) {\r\n      counterAnime.push(anime.media.id);\r\n      if ((anime.media !== undefined) & (anime.media.bannerImage !== null)) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"airing-list-container\">\r\n      <div>\r\n        <div>\r\n          {trimedallAiring\r\n            .filter((_, index) => index <= 7)\r\n            .map((airing) => {\r\n              return (\r\n                <Airing\r\n                  key={`${keyParam}-${airing.media.id}`}\r\n                  airing={airing.media}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\nexport default AiringList;\r\n","import Recom from \"../detailPage/Recom\";\r\n\r\nconst HomeRecom = ({ allRecom, keyParam }) => {\r\n  return (\r\n    <div className=\"home-rec\">\r\n      {allRecom\r\n        .filter((_, index) => index <= 1)\r\n        .map((rec) => {\r\n          return (\r\n            <Recom\r\n              key={keyParam + rec.media.id}\r\n              widthParam={true}\r\n              recom={rec}\r\n            />\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeRecom;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { secondsToDhms } from \"../../utils/helpers\";\r\nimport { faClock } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Markup } from \"interweave\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst AirSlide = ({ airing, onGrabbingSlider }) => {\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${airing.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"air-slide-container anni group\"\r\n      onMouseDown={() => onGrabbingSlider()}\r\n      onTouchStart={() => onGrabbingSlider()}\r\n    >\r\n      <img\r\n        alt=\"\"\r\n        className=\"transform group-hover:scale-110 \"\r\n        src={airing.bannerImage}\r\n      />\r\n      <div className=\"group-hover:bg-opacity-80\">\r\n        <div className=\"air-slide-cover-image transform group-hover:scale-95 \">\r\n          <a onClick={animeCardClickHandler} href={`/anime/${airing.id}`}>\r\n            <img alt=\"\" src={airing.coverImage.large} />\r\n          </a>\r\n        </div>\r\n        <div className=\"air-slide-info\">\r\n          <a href={`/anime/${airing.id}`} onClick={animeCardClickHandler}>\r\n            <h3 onClick={animeCardClickHandler}>\r\n              {airing.title.english\r\n                ? airing.title.english\r\n                : airing.title.romaji}\r\n            </h3>\r\n          </a>\r\n          {airing.format && (\r\n            <p>\r\n              <b>Format:</b>\r\n              <br /> {airing.format.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {airing.source && (\r\n            <p>\r\n              <b>Source:</b>\r\n              <br /> {airing.source.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {airing.genres && (\r\n            <p>\r\n              <b>Genres:</b>\r\n              <br />{\" \"}\r\n              {airing.genres\r\n                .filter((_, index) => index <= 2)\r\n                .map((genre) => {\r\n                  return (\r\n                    <span key={genre} className=\"air-slide-genres\">\r\n                      {genre}\r\n                    </span>\r\n                  );\r\n                })}\r\n            </p>\r\n          )}\r\n          <p className=\"text-indigo-200\">\r\n            <span>\r\n              <b>Next airing:</b> <br /> Episode{\" \"}\r\n              {airing.nextAiringEpisode.episode}{\" \"}\r\n            </span>\r\n            <span className=\"\">\r\n              <FontAwesomeIcon icon={faClock} />{\" \"}\r\n              {secondsToDhms(airing.nextAiringEpisode.timeUntilAiring, \"dhm\")}\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div className=\"air-slide-desc\">\r\n          <Markup content={airing.description} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AirSlide;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport AirSlide from \"./AirSlide\";\r\nimport { faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst AiringSlider = ({ allAiring, keyParam }) => {\r\n  let autoSlidePlay;\r\n  const [slideNum, setSlideNum] = useState(0);\r\n  const [isAutoPlayOn, setIsAutoPlayOn] = useState(true);\r\n\r\n  const onGrabbingSlider = useCallback(() => {\r\n    setIsAutoPlayOn(false);\r\n    clearTimeout(autoSlidePlay);\r\n    // eslint-disable-next-line\r\n  }, [setIsAutoPlayOn]);\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedallAiring = allAiring.filter((anime) => {\r\n    if (!counterAnime.includes(anime.media.id)) {\r\n      counterAnime.push(anime.media.id);\r\n      if ((anime.media !== undefined) & (anime.media.bannerImage !== null)) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  const rightHandler = () => {\r\n    setIsAutoPlayOn(false);\r\n\r\n    setTimeout(() => {\r\n      if (slideNum === 7) {\r\n        setSlideNum(0);\r\n      } else {\r\n        setSlideNum(slideNum + 1);\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const leftHandler = () => {\r\n    setIsAutoPlayOn(false);\r\n    setTimeout(() => {\r\n      if (slideNum === 0) {\r\n        setSlideNum(7);\r\n      } else {\r\n        setSlideNum(slideNum - 1);\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAutoPlayOn) {\r\n      // eslint-disable-next-line\r\n      autoSlidePlay = setTimeout(() => {\r\n        if (slideNum === 7) {\r\n          setSlideNum(0);\r\n        } else {\r\n          setSlideNum(slideNum + 1);\r\n        }\r\n      }, 4000);\r\n      return () => {\r\n        clearTimeout(autoSlidePlay);\r\n      };\r\n    }\r\n  }, [slideNum, isAutoPlayOn]);\r\n  return (\r\n    <div className=\"airing-slider-container\">\r\n      {trimedallAiring\r\n        .filter((_, index) => index === slideNum)\r\n        .map((airing) => {\r\n          return (\r\n            <AirSlide\r\n              onGrabbingSlider={onGrabbingSlider}\r\n              key={`${keyParam}-${airing.media.id}`}\r\n              airing={airing.media}\r\n            />\r\n          );\r\n        })}\r\n\r\n      <button onClick={leftHandler} className=\"left-0\">\r\n        <FontAwesomeIcon\r\n          className=\"text-4xl transform rotate-180 text-gray-500\"\r\n          icon={faChevronCircleRight}\r\n        />\r\n      </button>\r\n      <button onClick={rightHandler} className=\"right-0\">\r\n        <FontAwesomeIcon\r\n          className=\"text-4xl text-gray-500\"\r\n          icon={faChevronCircleRight}\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default AiringSlider;\r\n","import React from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { homeQuery } from \"../utils/queries\";\r\nimport AnimeList from \"../components/AnimeList\";\r\nimport AiringList from \"../components/homePage/AiringList\";\r\nimport HomeRec from \"../components/homePage/HomeRec\";\r\nimport TopList from \"../components/homePage/TopList\";\r\nimport RecomList from \"../components/detailPage/RecomList\";\r\nimport AiringSlider from \"../components/homePage/AiringSlider\";\r\nimport Loading from \"./Loading\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\n\r\nconst Home = ({ gridRef }) => {\r\n  const client = useApolloClient();\r\n  client.writeQuery({\r\n    query: gql`\r\n      query WriteIsLoading {\r\n        loadingbar {\r\n          isLoading\r\n        }\r\n      }\r\n    `,\r\n    data: {\r\n      // Contains the data to write\r\n      loadingbar: {\r\n        __typename: \"LoadingBar\",\r\n        isLoading: 80,\r\n      },\r\n    },\r\n  });\r\n\r\n  const hQuery = homeQuery;\r\n  const { loading, error, data } = useQuery(hQuery);\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    console.log(error.message);\r\n    return `Error! ${error}`;\r\n  }\r\n  const trending = data.trending.media;\r\n  const airing = data.airing.airingSchedules;\r\n  const allTime = data.allTime.media;\r\n  const top100 = data.top100.media;\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        ref={gridRef}\r\n        className=\" home-grid-container home-page-container\"\r\n      >\r\n        <div className=\"h-header\">\r\n          {airing[0] && (\r\n            <div>\r\n              <AiringSlider allAiring={airing} keyParam={\"airingSlider\"} />\r\n            </div>\r\n          )}\r\n\r\n          {data.homeRecom.recommendations[0] && (\r\n            <div>\r\n              <RecomList\r\n                allRecom={data.homeRecom.recommendations}\r\n                initialQuantity={7}\r\n                keyParam={\"recSlider\"}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"h-sidebar \">\r\n          {data.homeRecom.recommendations[0] && (\r\n            <div>\r\n              <h3>Top Recommendations</h3>\r\n              <HomeRec\r\n                allRecom={data.homeRecom.recommendations}\r\n                keyParam={\"topRec\"}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {airing[0] && (\r\n            <div>\r\n              <h3>Airing Schedules</h3>\r\n              <AiringList allAiring={airing} keyParam={\"airing\"} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"h-trending\">\r\n          <h3>Trending</h3>\r\n          <AnimeList\r\n            allAnimeData={trending}\r\n            colsInRow={4}\r\n            initialQuantity={8}\r\n            keyParam={\"homeTrending\"}\r\n          />\r\n        </div>\r\n        <div className=\"h-alltime\">\r\n          <h3>Popular All Time</h3>\r\n          <AnimeList\r\n            allAnimeData={allTime}\r\n            colsInRow={4}\r\n            initialQuantity={8}\r\n            keyParam={\"homepopAllTime\"}\r\n          />\r\n        </div>\r\n        <div className=\"h-top100\">\r\n          <h3>Top 100</h3>\r\n          <TopList\r\n            allAnimeData={top100}\r\n            initialQuantity={8}\r\n            keyParam={\"top100\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst CircleRate = ({ rate, symbol, size }) => {\r\n  let grad, bg;\r\n  if (rate === null) {\r\n    rate = 0;\r\n  }\r\n  if (rate <= 25) {\r\n    bg = \"bg-red-500\";\r\n    grad = `linear-gradient(${\r\n      (rate / 100) * 360 + 90\r\n    }deg, transparent 50%, rgb(212, 212, 212) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate < 50) {\r\n    bg = \"bg-yellow-500\";\r\n    grad = `linear-gradient(${\r\n      (rate / 100) * 360 + 90\r\n    }deg, transparent 50%, rgb(212, 212, 212) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate === 50) {\r\n    bg = \"bg-yellow-300\";\r\n    grad = `linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else if (rate >= 100) {\r\n    rate = 100;\r\n    bg = \"bg-green-600\";\r\n    grad = \"none\";\r\n  } else if (rate <= 75) {\r\n    bg = \"bg-green-300\";\r\n    grad = `linear-gradient(${\r\n      ((rate - 50) / 100) * 360 + 90\r\n    }deg, transparent 50%, rgba(110,231,183,1) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  } else {\r\n    bg = \"bg-green-500\";\r\n    grad = `linear-gradient(${\r\n      ((rate - 50) / 100) * 360 + 90\r\n    }deg, transparent 50%, rgba(16,185,129,1) 50%), linear-gradient(90deg, rgb(212, 212, 212) 50%, transparent 50%)`;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: grad,\r\n        width: `${size}rem`,\r\n        height: `${size}rem`,\r\n        borderRadius: \"50%\",\r\n      }}\r\n      className={`${bg} circle-rate-container group group-hover:animate-reversecycler`}\r\n    >\r\n      <div\r\n        className=\"group-hover:animate-cycler\"\r\n        style={{\r\n          width: `${size - 1}rem`,\r\n          height: `${size - 1}rem`,\r\n          borderRadius: \"50%\",\r\n        }}\r\n      >\r\n        {symbol ? (\r\n          <div className=\"rate-symbol\">\r\n            <FontAwesomeIcon\r\n              icon={symbol}\r\n              className={`${\r\n                size === 5 ? \"text-6xl\" : size === 4 ? \"text-5xl \" : \"\"\r\n              } text-red-500`}\r\n            />\r\n            <div\r\n              className={`${\r\n                size === 5 ? \"text-lg\" : size === 4 ? \"text-sm\" : \"\"\r\n              } text-white absolute`}\r\n              style={{\r\n                right: \"50%\",\r\n                top: \"50%\",\r\n                transform: \"translate(50%, -50%)\",\r\n              }}\r\n            >\r\n              {rate}%\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <span className=\"score-num\">\r\n            <span>score</span>\r\n            <span\r\n              className={`${\r\n                size === 5 ? \"text-2xl\" : size === 4 ? \"text-base\" : \"\"\r\n              }`}\r\n            >\r\n              {rate}%\r\n            </span>\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircleRate;\r\n","// convert hex to rgba\r\nexport const hexToRgbA = (hex, opacity) => {\r\n  let c;\r\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\r\n    c = hex.substring(1).split(\"\");\r\n    if (c.length === 3) {\r\n      c = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n    }\r\n    c = \"0x\" + c.join(\"\");\r\n    return (\r\n      \"rgba(\" +\r\n      [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(\",\") +\r\n      `,${opacity})`\r\n    );\r\n  }\r\n  return \"rgba(0,0,0,0.2)\";\r\n};\r\n\r\nexport const secondsToDhms = (seconds, dhms) => {\r\n  seconds = Number(seconds);\r\n  let d = Math.floor(seconds / (3600 * 24));\r\n  let h = Math.floor((seconds % (3600 * 24)) / 3600);\r\n  let m = Math.floor((seconds % 3600) / 60);\r\n  let s = Math.floor(seconds % 60);\r\n  let dDisplay = d > 0 ? d + \"d \" : \"\";\r\n  let hDisplay = h > 0 ? h + \"h \" : \"\";\r\n  let mDisplay = m > 0 ? m + \"min \" : \"\";\r\n  let sDisplay = s > 0 ? s + \"s\" : \"\";\r\n  if (dhms === \"dhms\") {\r\n    return dDisplay + hDisplay + mDisplay + sDisplay;\r\n  } else if (dhms === \"dhm\") {\r\n    return dDisplay + hDisplay + mDisplay;\r\n  }\r\n};\r\n\r\nexport const showMoreLessBtn = (refElement, extraClassName, height) => {\r\n  return setTimeout(() => {\r\n    if (refElement.current) {\r\n      if (\r\n        refElement.current.firstElementChild.offsetHeight > `${height + 100}`\r\n      ) {\r\n        refElement.current.firstElementChild.style.height = `${height}px`;\r\n        refElement.current.firstElementChild.style.overflow = \"hidden\";\r\n        refElement.current.firstElementChild.style.position = \"relative\";\r\n        const showMoreBtn = document.createElement(\"button\");\r\n        showMoreBtn.className = extraClassName;\r\n        showMoreBtn.textContent = \"Show More\";\r\n        refElement.current.firstElementChild.lastElementChild.after(\r\n          showMoreBtn\r\n        );\r\n\r\n        showMoreBtn.addEventListener(\"click\", () => {\r\n          showMoreBtn.style.display = \"none\";\r\n          refElement.current.firstElementChild.style.height = \"100%\";\r\n        });\r\n      }\r\n    }\r\n  }, 100);\r\n};\r\n\r\nexport const unKnownPng =\r\n  \"https://png.pngitem.com/pimgs/s/52-526033_unknown-person-icon-png-transparent-png.png\";\r\n","import { Markup } from \"interweave\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { faThumbsUp, faThumbsDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst Recom = ({ recom, widthParam }) => {\r\n  const recMedia = recom.node ? recom.node.mediaRecommendation : recom.media;\r\n\r\n  const rating = recom.node ? recom.node.rating : recom.rating;\r\n\r\n  const history = useHistory();\r\n  const client = useApolloClient();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${recMedia.id}`);\r\n    }, 500);\r\n  };\r\n  return (\r\n    <motion.a\r\n      draggable={true}\r\n      href={`/anime/${recMedia.id}`}\r\n      onClick={animeCardClickHandler}\r\n      className={` ${\r\n        widthParam ? \"w-full ssm:w-8/12 sm:w-11/12 my-3\" : \"w-60 mx-3\"\r\n      }  recom-container`}\r\n    >\r\n      <div className=\"recom-detail\">\r\n      <LazyLoad offset={100} >\r\n        <img alt=\"\" src={recMedia.coverImage.large} />\r\n        </LazyLoad>\r\n        <div className=\"recom-info\">\r\n          <p className=\"line-clamp-4\">\r\n            <b>Title:</b>\r\n            <br />{\" \"}\r\n            {recMedia.title.english\r\n              ? recMedia.title.english\r\n              : recMedia.title.romaji}\r\n          </p>\r\n          {recMedia.format && (\r\n            <p>\r\n              <b>Format:</b>\r\n              <br /> {recMedia.format.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {recMedia.source && (\r\n            <p>\r\n              <b>Source:</b>\r\n              <br /> {recMedia.source.toLowerCase()}\r\n            </p>\r\n          )}\r\n          {recMedia.status && (\r\n            <p>\r\n              <b>Status:</b>\r\n              <br /> {recMedia.status.toLowerCase()}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {recMedia.description && (\r\n        <div className=\"recom-desc line-clamp-5\">\r\n          <b>Description:</b> <Markup content={recMedia.description} />\r\n        </div>\r\n      )}\r\n      <div className=\"recom-rating\">\r\n        {rating !== undefined &&\r\n          (rating <= 0 ? (\r\n            <div className=\"red-rate\">\r\n              {rating} <FontAwesomeIcon icon={faThumbsDown} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"green-rate\">\r\n              +{rating} <FontAwesomeIcon icon={faThumbsUp} />\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Recom;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircleRate from \"./detailPage/CircleRate\";\r\nimport { useApolloClient, gql } from \"@apollo/client\";\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\n\r\nconst Anime = ({ anime }) => {\r\n  const client = useApolloClient();\r\n  const history = useHistory();\r\n\r\n  const animeCardClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    client.writeQuery({\r\n      query: gql`\r\n        query WriteIsLoading {\r\n          loadingbar {\r\n            isLoading\r\n          }\r\n        }\r\n      `,\r\n      data: {\r\n        // Contains the data to write\r\n        loadingbar: {\r\n          __typename: \"LoadingBar\",\r\n          isLoading: 30,\r\n        },\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      history.push(`/anime/${anime.id}`);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <motion.a\r\n      href={`/anime/${anime.id}`}\r\n      onClick={animeCardClickHandler}\r\n      className=\"anime-card-container group hover-card-num-1\"\r\n      animate={{ opacity: 1, transition: { duration: 1 } }}\r\n      initial={{ opacity: 0 }}\r\n    >\r\n      {anime.averageScore !== undefined && (\r\n        <div\r\n          className=\"anime-circle-rate transform translate-x-4 -translate-y-4 \r\n    group-hover:translate-y-0.5 group-hover:-translate-x-0.5 \"\r\n        >\r\n          <CircleRate rate={anime.averageScore} size={4} />\r\n        </div>\r\n      )}\r\n      <LazyLoad offset={100} >\r\n      <img alt=\"\" src={anime.coverImage.large} />\r\n      </LazyLoad>\r\n      <div\r\n        className=\"anime-info\r\n       \"\r\n      >\r\n        <div className=\" bg-yellow-300 \">{anime.format}</div>\r\n        <div className=\" bg-green-300 \">{anime.source}</div>\r\n        <div className=\" bg-red-300 \">{anime.status}</div>\r\n      </div>\r\n      <h3 className=\"line-clamp-2\">\r\n        {anime.title.english !== null\r\n          ? anime.title.english\r\n          : anime.title.romaji}\r\n      </h3>\r\n    </motion.a>\r\n  );\r\n};\r\n\r\nexport default Anime;\r\n","import React, { useState } from \"react\";\r\nimport Anime from \"./Anime\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst AnimeList = ({ allAnimeData, initialQuantity, colsInRow, keyParam }) => {\r\n  const [showMore, setShowMore] = useState({\r\n    stream: initialQuantity,\r\n  });\r\n\r\n  let gridColsTemp = `grid-cols-2 ssm:grid-cols-${colsInRow - 1} lg:grid-cols-${\r\n    colsInRow - 1\r\n  } xl:grid-cols-${colsInRow}`;\r\n\r\n  const streamShowMoreHandler = (e) => {\r\n    if (showMore.stream > 30) {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 999 });\r\n      e.target.style.display = \"none\";\r\n    } else {\r\n      setShowMore({ ...showMore, stream: showMore.stream + 10 });\r\n    }\r\n    if (showMore.stream + 10 >= allAnimeData.length) {\r\n      e.target.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // maintain the array for duplicate elements\r\n  let counterAnime = [];\r\n  let trimedAllAnimeData = allAnimeData.filter((anime) => {\r\n    let anim = anime.id !== undefined ? anime : anime.node;\r\n    if (!counterAnime.includes(anim.id)) {\r\n      counterAnime.push(anim.id);\r\n      if (anime !== undefined) {\r\n        return anime;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <motion.div className=\"pb-10\">\r\n      <div className=\"anime-list-container\">\r\n        <motion.div className={`anime-list ${gridColsTemp}`}>\r\n          {trimedAllAnimeData\r\n            .filter((_, index) => index <= showMore.stream - 1)\r\n            .map((anime) => {\r\n              //check where the data come from node or media\r\n              const animeData = anime.id !== undefined ? anime : anime.node;\r\n              return (\r\n                <Anime key={`${keyParam}-${animeData.id}`} anime={animeData} />\r\n              );\r\n            })}\r\n        </motion.div>\r\n      </div>\r\n      {allAnimeData.length > initialQuantity && (\r\n        <button\r\n          onClick={streamShowMoreHandler}\r\n          className=\"stream-show-more-btn\"\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default AnimeList;\r\n","import React, { useState, useRef } from \"react\";\r\nimport Recom from \"./Recom\";\r\nimport { faChevronCircleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { recomListQuery } from \"../../utils/queries\";\r\nimport { useQuery } from \"@apollo/client\";\r\n\r\nconst RecomList = ({ allRecom, animeID, initialQuantity, keyParam }) => {\r\n  const isSmallDevice = document.documentElement.clientWidth <= 768;\r\n  const magicNum1 = 250;\r\n  const magicNum2 = isSmallDevice ? 264 : 264 * 2;\r\n  const magicNum3 = 275;\r\n  const rightLeftScroll = useRef(null);\r\n  const wastefulCover = useRef(null);\r\n\r\n  const [showMore, setShowMore] = useState({\r\n    recommend: initialQuantity,\r\n  });\r\n\r\n  let id;\r\n  if (animeID) {\r\n    id = animeID;\r\n  } else {\r\n    id = 16498;\r\n  }\r\n  const { loading, error, data } = useQuery(recomListQuery, {\r\n    variables: {\r\n      id: id,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return null;\r\n  }\r\n\r\n  if (error) {\r\n    console.log(error.message);\r\n    return `Error! ${error}`;\r\n  }\r\n\r\n  let allRecomData;\r\n  if (allRecom) {\r\n    allRecomData = allRecom;\r\n  } else {\r\n    allRecomData = data.Media.recommendations.edges;\r\n  }\r\n\r\n  let isDown = false;\r\n  let startx, scrollLeft;\r\n\r\n  const recSliderMouseDownHandler = (e) => {\r\n    e.preventDefault();\r\n    isDown = true;\r\n    startx = e.pageX - rightLeftScroll.current.offsetLeft;\r\n    scrollLeft = rightLeftScroll.current.scrollLeft;\r\n  };\r\n\r\n  const recSliderMouseLeaveHandler = () => {\r\n    isDown = false;\r\n    wastefulCover.current.style.display = \"none\";\r\n  };\r\n\r\n  const recSliderMouseUpHandler = () => {\r\n    isDown = false;\r\n\r\n    wastefulCover.current.style.display = \"none\";\r\n\r\n    setShowMore({ recommend: allRecomData.length });\r\n  };\r\n\r\n  const recSliderMouseMoveHandler = (e) => {\r\n    if (!isDown) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - rightLeftScroll.current.offsetLeft;\r\n    const walk = (x - startx) * 1.5;\r\n    rightLeftScroll.current.scrollLeft = scrollLeft - walk;\r\n    wastefulCover.current.style.display = \"block\";\r\n  };\r\n\r\n  const rightScrollHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft + magicNum3 : recLeft + magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        const newRecommend = isSmallDevice\r\n          ? showMore.recommend + 1\r\n          : showMore.recommend + 3;\r\n        setShowMore({ recommend: newRecommend });\r\n      }\r\n    } else {\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recLeft === 0 ? recLeft + magicNum1 : recLeft + magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        const newRecommend = isSmallDevice\r\n          ? showMore.recommend + 1\r\n          : showMore.recommend + 3;\r\n        setShowMore({ recommend: newRecommend });\r\n      }\r\n    }\r\n  };\r\n  const leftScrollHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft - magicNum3 : recLeft - magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n    } else {\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recWidth === recLeft ? recLeft - magicNum3 : recLeft - magicNum2,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const recTouchHandler = () => {\r\n    let recLeft = rightLeftScroll.current.scrollLeft;\r\n    let recWidth = rightLeftScroll.current.scrollWidth;\r\n\r\n    if (recLeft / recWidth < 0.5) {\r\n      if (\r\n        isSmallDevice\r\n          ? showMore.recommend < allRecomData.length + 1\r\n          : showMore.recommend < allRecomData.length + 3\r\n      ) {\r\n        setShowMore({ recommend: allRecomData.length });\r\n      }\r\n    }\r\n    if ((Math.round(recLeft) - magicNum1) % magicNum2 !== 0 && recLeft !== 0) {\r\n      recLeft = Math.round((Math.round(recLeft) - magicNum1) / magicNum2);\r\n      recLeft = recLeft * magicNum2 + magicNum1;\r\n      rightLeftScroll.current.scrollTo({\r\n        top: 0,\r\n        left: recLeft,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {allRecomData.length > 0 && (\r\n        <div>\r\n          <h4 className=\"recom-list-title\">Recommendations</h4>\r\n          <div className=\"recommendation-parent\">\r\n            <div\r\n              className=\"recommendation\"\r\n              ref={rightLeftScroll}\r\n              onTouchEnd={recTouchHandler}\r\n              onMouseDown={recSliderMouseDownHandler}\r\n              onMouseLeave={recSliderMouseLeaveHandler}\r\n              onMouseUp={recSliderMouseUpHandler}\r\n              onMouseMove={recSliderMouseMoveHandler}\r\n            >\r\n              <div>\r\n                {allRecomData.slice(0, showMore.recommend - 1).map((recom, index) => {\r\n                    const id = recom.node\r\n                      ? recom.node.mediaRecommendation.id\r\n                      : recom.media.id;\r\n                    return <Recom key={keyParam + id + index} recom={recom} />;\r\n                })}\r\n                <div ref={wastefulCover} className=\"wasteful-cover\"></div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={leftScrollHandler}\r\n              className=\"left-0 bg-gradient-to-l\"\r\n            >\r\n              <FontAwesomeIcon\r\n                className=\"font-icon-recom-list rotate-180\"\r\n                icon={faChevronCircleRight}\r\n              />\r\n            </button>\r\n            <button\r\n              onClick={rightScrollHandler}\r\n              className=\"right-0 bg-gradient-to-r\"\r\n            >\r\n              <FontAwesomeIcon\r\n                className=\"font-icon-recom-list\"\r\n                icon={faChevronCircleRight}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default RecomList;\r\n"],"sourceRoot":""}